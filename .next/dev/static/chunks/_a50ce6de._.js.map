{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/lib/api.ts"],"sourcesContent":["import type { AuthUser } from \"@/lib/auth\"\nimport { getAccessToken } from \"@/lib/auth\"\nimport type { PostData } from \"@/components/post-card\"\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\"\nconst API_ORIGIN = API_BASE.replace(/\\/api\\/?$/, \"\")\n\ntype ApiResponse<T> = {\n  success: boolean\n  message?: string\n  data: T\n}\n\ntype BackendPost = {\n  _id: string\n  title: string\n  excerpt?: string\n  content?: string\n  featuredImage?: string\n  status?: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n  visibility?: \"public\" | \"private\"\n  createdAt?: string\n  publishedAt?: string\n  viewsCount?: number\n  likesCount?: number\n  commentsCount?: number\n  author?: {\n    _id?: string\n    name?: string\n    avatar?: string\n  }\n  category?: {\n    _id?: string\n    name?: string\n    slug?: string\n  }\n  topics?: Array<{\n    _id: string\n    name: string\n    slug: string\n  }>\n}\n\nexport type BackendCategory = {\n  _id: string\n  name: string\n  slug: string\n  description?: string\n  icon?: string\n  color?: string\n  bannerImage?: string\n}\n\nexport type BackendTopic = {\n  _id: string\n  name: string\n  slug: string\n  description?: string\n  image?: string\n  featured?: boolean\n  startDate?: string\n  endDate?: string\n}\n\nfunction toRelativeDate(dateString?: string): string {\n  if (!dateString) return \"Саяхан\"\n  const d = new Date(dateString)\n  if (Number.isNaN(d.getTime())) return \"Саяхан\"\n  return d.toLocaleDateString(\"mn-MN\")\n}\n\nfunction categoryColorBySlug(slug?: string): string {\n  const map: Record<string, string> = {\n    economy: \"bg-chart-1/15 text-chart-1\",\n    technology: \"bg-chart-2/15 text-chart-2\",\n    world: \"bg-chart-3/15 text-chart-3\",\n    environment: \"bg-chart-4/15 text-chart-4\",\n    finance: \"bg-chart-5/15 text-chart-5\",\n    health: \"bg-destructive/15 text-destructive\",\n  }\n  return map[slug || \"\"] || \"bg-secondary text-secondary-foreground\"\n}\n\nfunction mapPost(post: BackendPost): PostData {\n  return {\n    id: post._id,\n    title: post.title,\n    excerpt: post.excerpt || \"\",\n    contentHtml: post.content || \"\",\n    category: post.category?.name || \"Бусад\",\n    categorySlug: post.category?.slug || \"\",\n    categoryColor: categoryColorBySlug(post.category?.slug),\n    image: post.featuredImage || \"/placeholder.jpg\",\n    author: post.author?.name || \"Unknown\",\n    authorAvatar:\n      post.author?.avatar ||\n      \"https://api.dicebear.com/9.x/notionists/svg?seed=author\",\n    date: toRelativeDate(post.createdAt),\n    views: String(post.viewsCount || 0),\n    likes: post.likesCount || 0,\n    comments: post.commentsCount || 0,\n  }\n}\n\nexport type DashboardPost = {\n  id: string\n  title: string\n  excerpt: string\n  content: string\n  status: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n  visibility: \"public\" | \"private\"\n  category: string\n  categoryId?: string\n  image: string\n  views: string\n  likes: number\n  comments: number\n  createdAt: string\n  publishedAt?: string | null\n  topics: string[]\n}\n\nexport type AdminPost = {\n  id: string\n  title: string\n  excerpt: string\n  status: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n  image: string\n  views: string\n  comments: number\n  category: string\n  categorySlug?: string\n  author: string\n  authorAvatar: string\n  createdAt: string\n}\n\nexport type AdminUser = {\n  id: string\n  name: string\n  email: string\n  avatar?: string\n  role: \"user\" | \"publisher\" | \"admin\"\n  isActive: boolean\n  joinedAt: string\n  lastActive: string\n  posts: number\n}\n\nexport type PostComment = {\n  id: string\n  content: string\n  createdAt: string\n  user: {\n    name: string\n    avatar: string\n  }\n}\n\nexport type UploadFolder =\n  | \"posts\"\n  | \"categories\"\n  | \"topics\"\n  | \"editor\"\n  | \"profiles\"\n\nexport type DashboardSummary = {\n  stats: {\n    posts: { value: number; change: number }\n    views: { value: number; display: string; changePct: number }\n    likes: { value: number; display: string; changePct: number }\n    comments: { value: number; display: string; changePct: number }\n    status: {\n      published: number\n      pending: number\n      draft: number\n      rejected: number\n    }\n  }\n  viewsTrend: Array<{\n    key: string\n    name: string\n    views: number\n    likes: number\n  }>\n  recentPosts: Array<{\n    id: string\n    title: string\n    status: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n    views: number\n    likes: number\n    comments: number\n    date: string\n    image: string\n  }>\n  notifications: {\n    unreadCount: number\n    latest: Array<{\n      _id: string\n      type: \"comment\" | \"like\" | \"approved\" | \"rejected\" | \"system\"\n      title: string\n      message: string\n      read: boolean\n      link: string\n      createdAt: string\n    }>\n  }\n}\n\nexport type DashboardAnalytics = {\n  overview: {\n    views: { value: number; changePct: number }\n    likes: { value: number; changePct: number }\n    comments: { value: number; changePct: number }\n    posts: { value: number; changePct: number }\n  }\n  trends: Array<{\n    key: string\n    name: string\n    views: number\n    likes: number\n  }>\n  weekly: Array<{\n    day: string\n    views: number\n  }>\n  topPosts: Array<{\n    id: string\n    title: string\n    views: number\n    likes: number\n    image: string\n  }>\n  deviceData: Array<{ name: string; value: number }>\n  countryData: Array<{ country: string; views: number; percentage: number }>\n}\n\nexport type BackendNotification = {\n  _id: string\n  type: \"comment\" | \"like\" | \"approved\" | \"rejected\" | \"system\"\n  title: string\n  message: string\n  link: string\n  read: boolean\n  createdAt: string\n  actor?: {\n    name?: string\n    avatar?: string\n  }\n}\n\nexport type UserProfile = {\n  id: string\n  name: string\n  email: string\n  role: \"user\" | \"publisher\" | \"admin\"\n  isActive: boolean\n  bio: string\n  avatar: string\n  coverImage: string\n  phone: string\n  location: string\n  website: string\n  social: {\n    twitter: string\n    linkedin: string\n    facebook: string\n    instagram: string\n  }\n  joinedAt: string\n  lastActive: string\n}\n\ntype BackendComment = {\n  _id: string\n  content: string\n  createdAt: string\n  user?: {\n    name?: string\n    avatar?: string\n  }\n}\n\nfunction mapDashboardPost(post: BackendPost): DashboardPost {\n  return {\n    id: post._id,\n    title: post.title,\n    excerpt: post.excerpt || \"\",\n    content: post.content || \"\",\n    status: post.status || \"draft\",\n    visibility: post.visibility || \"public\",\n    category: post.category?.name || \"Бусад\",\n    categoryId: post.category?._id,\n    image: post.featuredImage || \"/placeholder.jpg\",\n    views: String(post.viewsCount || 0),\n    likes: post.likesCount || 0,\n    comments: post.commentsCount || 0,\n    createdAt: post.createdAt || new Date().toISOString(),\n    publishedAt: post.publishedAt || null,\n    topics: (post.topics || []).map((t) => t._id),\n  }\n}\n\nfunction mapAdminPost(post: BackendPost): AdminPost {\n  return {\n    id: post._id,\n    title: post.title,\n    excerpt: post.excerpt || \"\",\n    status: post.status || \"draft\",\n    image: post.featuredImage || \"/placeholder.jpg\",\n    views: String(post.viewsCount || 0),\n    comments: post.commentsCount || 0,\n    category: post.category?.name || \"Бусад\",\n    categorySlug: post.category?.slug || \"\",\n    author: post.author?.name || \"Unknown\",\n    authorAvatar:\n      post.author?.avatar ||\n      \"https://api.dicebear.com/9.x/notionists/svg?seed=author\",\n    createdAt: post.createdAt || new Date().toISOString(),\n  }\n}\n\nasync function request<T>(path: string, init?: RequestInit): Promise<T> {\n  const token = getAccessToken()\n  const res = await fetch(`${API_BASE}${path}`, {\n    ...init,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\n      ...(init?.headers || {}),\n    },\n    cache: \"no-store\",\n  })\n\n  const json = await res.json().catch(() => null)\n  if (!res.ok) {\n    throw new Error(json?.message || \"Request failed\")\n  }\n  return json\n}\n\nfunction fileToBase64(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onload = () => {\n      const raw = reader.result\n      if (typeof raw !== \"string\") {\n        reject(new Error(\"Image read failed\"))\n        return\n      }\n      const base64 = raw.includes(\",\") ? raw.split(\",\")[1] : raw\n      resolve(base64)\n    }\n    reader.onerror = () => reject(new Error(\"Image read failed\"))\n    reader.readAsDataURL(file)\n  })\n}\n\nexport async function loginApi(email: string, password: string) {\n  const res = await request<\n    ApiResponse<{\n      user: AuthUser\n      accessToken: string\n      refreshToken: string\n    }>\n  >(\"/auth/login\", {\n    method: \"POST\",\n    body: JSON.stringify({ email, password }),\n  })\n  return res.data\n}\n\nexport async function registerApi(name: string, email: string, password: string) {\n  const res = await request<\n    ApiResponse<{\n      user: AuthUser\n      accessToken: string\n      refreshToken: string\n    }>\n  >(\"/auth/register\", {\n    method: \"POST\",\n    body: JSON.stringify({ name, email, password }),\n  })\n  return res.data\n}\n\nexport async function getMeApi() {\n  const res = await request<ApiResponse<{ user: AuthUser }>>(\"/auth/me\")\n  return res.data.user\n}\n\nexport async function getPosts(params?: {\n  category?: string\n  topic?: string\n  q?: string\n  status?: \"all\" | \"draft\" | \"pending\" | \"published\" | \"rejected\"\n  author?: string\n}) {\n  const search = new URLSearchParams()\n  if (params?.category) search.set(\"category\", params.category)\n  if (params?.topic) search.set(\"topic\", params.topic)\n  if (params?.q) search.set(\"q\", params.q)\n  if (params?.status) search.set(\"status\", params.status)\n  if (params?.author) search.set(\"author\", params.author)\n  const suffix = search.toString() ? `?${search.toString()}` : \"\"\n\n  const res = await request<ApiResponse<{ items: BackendPost[] }>>(`/posts${suffix}`)\n  return res.data.items.map(mapPost)\n}\n\nexport async function getPostById(id: string) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(`/posts/${id}`)\n  return mapPost(res.data.post)\n}\n\nexport async function getDashboardPostById(id: string) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(`/posts/${id}`)\n  return mapDashboardPost(res.data.post)\n}\n\nexport async function getCategories() {\n  const res = await request<ApiResponse<{ categories: BackendCategory[] }>>(\n    \"/categories\"\n  )\n  return res.data.categories\n}\n\nexport async function createCategoryApi(payload: {\n  name: string\n  slug: string\n  description?: string\n  icon?: string\n  color?: string\n  bannerImage?: string\n}) {\n  const res = await request<ApiResponse<{ category: BackendCategory }>>(\n    \"/categories\",\n    {\n      method: \"POST\",\n      body: JSON.stringify(payload),\n    }\n  )\n  return res.data.category\n}\n\nexport async function updateCategoryApi(\n  id: string,\n  payload: Partial<{\n    name: string\n    slug: string\n    description?: string\n    icon?: string\n    color?: string\n    bannerImage?: string\n  }>\n) {\n  const res = await request<ApiResponse<{ category: BackendCategory }>>(\n    `/categories/${id}`,\n    {\n      method: \"PATCH\",\n      body: JSON.stringify(payload),\n    }\n  )\n  return res.data.category\n}\n\nexport async function deleteCategoryApi(id: string) {\n  await request<ApiResponse<{ message: string }>>(`/categories/${id}`, {\n    method: \"DELETE\",\n  })\n}\n\nexport async function getTopics() {\n  const res = await request<ApiResponse<{ topics: BackendTopic[] }>>(\"/topics\")\n  return res.data.topics\n}\n\nexport async function createTopicApi(payload: {\n  name: string\n  slug: string\n  description?: string\n  image?: string\n  featured?: boolean\n  startDate?: string\n  endDate?: string\n}) {\n  const res = await request<ApiResponse<{ topic: BackendTopic }>>(\"/topics\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  })\n  return res.data.topic\n}\n\nexport async function updateTopicApi(\n  id: string,\n  payload: Partial<{\n    name: string\n    slug: string\n    description?: string\n    image?: string\n    featured?: boolean\n    startDate?: string\n    endDate?: string\n  }>\n) {\n  const res = await request<ApiResponse<{ topic: BackendTopic }>>(`/topics/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(payload),\n  })\n  return res.data.topic\n}\n\nexport async function deleteTopicApi(id: string) {\n  await request<ApiResponse<{ message: string }>>(`/topics/${id}`, {\n    method: \"DELETE\",\n  })\n}\n\nexport async function getBookmarks() {\n  const res = await request<ApiResponse<{ items: BackendPost[] }>>(\n    \"/posts/bookmarks/me\"\n  )\n  return res.data.items.map(mapPost)\n}\n\nexport async function toggleBookmarkApi(postId: string) {\n  const res = await request<ApiResponse<{ bookmarked: boolean }>>(\n    `/posts/${postId}/bookmark`,\n    {\n      method: \"POST\",\n    }\n  )\n  return res.data\n}\n\nexport async function toggleLikeApi(postId: string) {\n  const res = await request<ApiResponse<{ liked: boolean; likesCount: number }>>(\n    `/posts/${postId}/like`,\n    {\n      method: \"POST\",\n    }\n  )\n  return res.data\n}\n\nexport async function getMyEngagement(postId: string) {\n  const res = await request<ApiResponse<{ liked: boolean; bookmarked: boolean }>>(\n    `/posts/${postId}/engagement`\n  )\n  return res.data\n}\n\nexport async function getCommentsApi(postId: string) {\n  const res = await request<ApiResponse<{ comments: BackendComment[] }>>(\n    `/posts/${postId}/comments`\n  )\n  return res.data.comments.map((c) => ({\n    id: c._id,\n    content: c.content,\n    createdAt: c.createdAt,\n    user: {\n      name: c.user?.name || \"Хэрэглэгч\",\n      avatar:\n        c.user?.avatar ||\n        \"https://api.dicebear.com/9.x/notionists/svg?seed=user\",\n    },\n  }))\n}\n\nexport async function addCommentApi(postId: string, content: string) {\n  const res = await request<ApiResponse<{ comment: BackendComment }>>(\n    `/posts/${postId}/comments`,\n    {\n      method: \"POST\",\n      body: JSON.stringify({ content }),\n    }\n  )\n  const c = res.data.comment\n  const mapped: PostComment = {\n    id: c._id,\n    content: c.content,\n    createdAt: c.createdAt,\n    user: {\n      name: c.user?.name || \"Хэрэглэгч\",\n      avatar:\n        c.user?.avatar ||\n        \"https://api.dicebear.com/9.x/notionists/svg?seed=user\",\n    },\n  }\n  return mapped\n}\n\nexport async function getMyPosts(authorId: string) {\n  const search = new URLSearchParams()\n  search.set(\"author\", authorId)\n  search.set(\"status\", \"all\")\n  const res = await request<ApiResponse<{ items: BackendPost[] }>>(\n    `/posts?${search.toString()}`\n  )\n  return res.data.items.map(mapDashboardPost)\n}\n\nexport async function getAdminPosts() {\n  const res = await request<ApiResponse<{ items: BackendPost[] }>>(\n    \"/posts?status=all\"\n  )\n  return res.data.items.map(mapAdminPost)\n}\n\nexport async function uploadImageApi(file: File, folder: UploadFolder) {\n  const dataBase64 = await fileToBase64(file)\n  const res = await request<ApiResponse<{ url: string }>>(\"/uploads/image\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      fileName: file.name,\n      mimeType: file.type,\n      dataBase64,\n      folder,\n    }),\n  })\n\n  const url = res.data.url || \"\"\n  if (!url) throw new Error(\"Upload failed\")\n  if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) return url\n  return `${API_ORIGIN}${url.startsWith(\"/\") ? \"\" : \"/\"}${url}`\n}\n\nexport async function getDashboardSummaryApi(\n  range: \"7d\" | \"30d\" | \"90d\" | \"1y\" = \"7d\"\n) {\n  const res = await request<ApiResponse<DashboardSummary>>(\n    `/dashboard/summary?range=${range}`\n  )\n  return res.data\n}\n\nexport async function getDashboardAnalyticsApi(\n  range: \"7d\" | \"30d\" | \"90d\" | \"1y\" = \"7d\"\n) {\n  const res = await request<ApiResponse<DashboardAnalytics>>(\n    `/dashboard/analytics?range=${range}`\n  )\n  return res.data\n}\n\nexport async function getNotificationsApi(\n  filter: \"all\" | \"unread\" | \"comment\" | \"like\" | \"approved\" | \"rejected\" | \"system\" = \"all\"\n) {\n  const res = await request<\n    ApiResponse<{ items: BackendNotification[]; unreadCount: number }>\n  >(`/notifications?filter=${filter}`)\n  return res.data\n}\n\nexport async function markNotificationReadApi(id: string) {\n  await request<ApiResponse<{ notification: BackendNotification }>>(\n    `/notifications/${id}/read`,\n    {\n      method: \"PATCH\",\n    }\n  )\n}\n\nexport async function markAllNotificationsReadApi() {\n  await request<ApiResponse<{ message: string }>>(\"/notifications/read-all\", {\n    method: \"PATCH\",\n  })\n}\n\nexport async function deleteNotificationApi(id: string) {\n  await request<ApiResponse<{ message: string }>>(`/notifications/${id}`, {\n    method: \"DELETE\",\n  })\n}\n\nexport async function deleteReadNotificationsApi() {\n  await request<ApiResponse<{ message: string }>>(\"/notifications/read\", {\n    method: \"DELETE\",\n  })\n}\n\nexport async function getMyProfileApi() {\n  const res = await request<\n    ApiResponse<{\n      profile: UserProfile\n      stats: { posts: number; views: number; likes: number }\n    }>\n  >(\"/users/profile/me\")\n  return res.data\n}\n\nexport async function updateMyProfileApi(\n  payload: Partial<{\n    name: string\n    email: string\n    bio: string\n    avatar: string\n    coverImage: string\n    phone: string\n    location: string\n    website: string\n    social: {\n      twitter: string\n      linkedin: string\n      facebook: string\n      instagram: string\n    }\n  }>\n) {\n  const res = await request<ApiResponse<{ profile: UserProfile }>>(\n    \"/users/profile/me\",\n    {\n      method: \"PATCH\",\n      body: JSON.stringify(payload),\n    }\n  )\n  return res.data.profile\n}\n\nexport async function changeMyPasswordApi(\n  currentPassword: string,\n  newPassword: string\n) {\n  await request<ApiResponse<{ message: string }>>(\"/users/profile/password\", {\n    method: \"PATCH\",\n    body: JSON.stringify({ currentPassword, newPassword }),\n  })\n}\n\nexport async function getAdminUsers() {\n  const res = await request<ApiResponse<{ items: AdminUser[] }>>(\"/users\")\n  return res.data.items\n}\n\nexport async function updateUserApi(\n  id: string,\n  payload: Partial<{\n    role: \"user\" | \"publisher\" | \"admin\"\n    isActive: boolean\n  }>\n) {\n  const res = await request<ApiResponse<{ user: AdminUser }>>(`/users/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(payload),\n  })\n  return res.data.user\n}\n\nexport async function createPostApi(payload: {\n  title: string\n  excerpt: string\n  content: string\n  featuredImage?: string\n  category?: string\n  topics?: string[]\n  visibility?: \"public\" | \"private\"\n  status?: \"draft\" | \"pending\" | \"published\"\n  publishedAt?: string\n}) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(\"/posts\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  })\n  return mapDashboardPost(res.data.post)\n}\n\nexport async function updatePostApi(\n  id: string,\n  payload: Partial<{\n    title: string\n    excerpt: string\n    content: string\n    featuredImage?: string\n    category?: string\n    topics?: string[]\n    visibility?: \"public\" | \"private\"\n    status?: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n    publishedAt?: string\n  }>\n) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(`/posts/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(payload),\n  })\n  return mapDashboardPost(res.data.post)\n}\n\nexport async function updatePostStatusApi(\n  id: string,\n  status: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(`/posts/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify({ status }),\n  })\n  return mapAdminPost(res.data.post)\n}\n\nexport async function deletePostApi(id: string) {\n  await request<ApiResponse<{ message: string }>>(`/posts/${id}`, {\n    method: \"DELETE\",\n  })\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 460, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/components/admin/icon-picker.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport {\n  TrendingUp,\n  TrendingDown,\n  Cpu,\n  Leaf,\n  Heart,\n  Wallet,\n  Globe,\n  BarChart3,\n  LineChart,\n  PieChart,\n  DollarSign,\n  Users,\n  Building2,\n  Factory,\n  Zap,\n  Droplets,\n  Wind,\n  Sun,\n  ThermometerSun,\n  Activity,\n  Briefcase,\n  ShoppingCart,\n  Truck,\n  Plane,\n  Ship,\n  Car,\n  Home,\n  Landmark,\n  Scale,\n  GraduationCap,\n  Stethoscope,\n  Pill,\n  Baby,\n  TreePine,\n  Mountain,\n  Waves,\n  Flame,\n  Cloud,\n  Coins,\n  CreditCard,\n  PiggyBank,\n  Receipt,\n  Calculator,\n  Percent,\n  ArrowUpRight,\n  ArrowDownRight,\n  Minus,\n  Target,\n  Award,\n  Trophy,\n  Star,\n  Sparkles,\n  Lightbulb,\n  Rocket,\n  Atom,\n  Database,\n  Server,\n  Wifi,\n  Smartphone,\n  Monitor,\n  ChevronDown,\n  Search,\n  X,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\n// Icon map for rendering\nexport const iconMap: Record<string, React.ElementType> = {\n  TrendingUp,\n  TrendingDown,\n  Cpu,\n  Leaf,\n  Heart,\n  Wallet,\n  Globe,\n  BarChart3,\n  LineChart,\n  PieChart,\n  DollarSign,\n  Users,\n  Building2,\n  Factory,\n  Zap,\n  Droplets,\n  Wind,\n  Sun,\n  ThermometerSun,\n  Activity,\n  Briefcase,\n  ShoppingCart,\n  Truck,\n  Plane,\n  Ship,\n  Car,\n  Home,\n  Landmark,\n  Scale,\n  GraduationCap,\n  Stethoscope,\n  Pill,\n  Baby,\n  TreePine,\n  Mountain,\n  Waves,\n  Flame,\n  Cloud,\n  Coins,\n  CreditCard,\n  PiggyBank,\n  Receipt,\n  Calculator,\n  Percent,\n  ArrowUpRight,\n  ArrowDownRight,\n  Minus,\n  Target,\n  Award,\n  Trophy,\n  Star,\n  Sparkles,\n  Lightbulb,\n  Rocket,\n  Atom,\n  Database,\n  Server,\n  Wifi,\n  Smartphone,\n  Monitor,\n}\n\n// Categorized icons for better UX\nconst iconCategories = {\n  \"Эдийн засаг\": [\"TrendingUp\", \"TrendingDown\", \"DollarSign\", \"Coins\", \"CreditCard\", \"PiggyBank\", \"Receipt\", \"Calculator\", \"Percent\", \"Wallet\", \"Briefcase\", \"ShoppingCart\"],\n  \"Технологи\": [\"Cpu\", \"Database\", \"Server\", \"Wifi\", \"Smartphone\", \"Monitor\", \"Atom\", \"Rocket\", \"Lightbulb\"],\n  \"Байгаль орчин\": [\"Leaf\", \"TreePine\", \"Mountain\", \"Waves\", \"Wind\", \"Sun\", \"Cloud\", \"Droplets\", \"Flame\", \"ThermometerSun\"],\n  \"Эрүүл мэнд\": [\"Heart\", \"Activity\", \"Stethoscope\", \"Pill\", \"Baby\"],\n  \"Дэд бүтэц\": [\"Building2\", \"Factory\", \"Home\", \"Landmark\", \"Truck\", \"Plane\", \"Ship\", \"Car\", \"Zap\"],\n  \"Нийгэм\": [\"Users\", \"GraduationCap\", \"Scale\", \"Globe\"],\n  \"График\": [\"BarChart3\", \"LineChart\", \"PieChart\", \"TrendingUp\", \"TrendingDown\", \"ArrowUpRight\", \"ArrowDownRight\", \"Minus\"],\n  \"Бусад\": [\"Target\", \"Award\", \"Trophy\", \"Star\", \"Sparkles\"],\n}\n\ninterface IconPickerProps {\n  value?: string\n  onChange: (icon: string) => void\n  className?: string\n}\n\nexport function IconPicker({ value, onChange, className }: IconPickerProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [activeCategory, setActiveCategory] = useState<string | null>(null)\n\n  const SelectedIcon = value ? iconMap[value] : null\n\n  const allIcons = Object.keys(iconMap)\n  const filteredIcons = searchQuery\n    ? allIcons.filter((icon) =>\n        icon.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n    : activeCategory\n    ? iconCategories[activeCategory as keyof typeof iconCategories] || []\n    : allIcons\n\n  return (\n    <div className={cn(\"relative\", className)}>\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex h-10 w-full items-center justify-between rounded-lg border border-input bg-background px-3 text-sm text-foreground hover:bg-secondary/50\"\n      >\n        <div className=\"flex items-center gap-2\">\n          {SelectedIcon ? (\n            <>\n              <SelectedIcon className=\"h-4 w-4\" />\n              <span>{value}</span>\n            </>\n          ) : (\n            <span className=\"text-muted-foreground\">Icon сонгох...</span>\n          )}\n        </div>\n        <ChevronDown className=\"h-4 w-4 text-muted-foreground\" />\n      </button>\n\n      {isOpen && (\n        <>\n          <div\n            className=\"fixed inset-0 z-40\"\n            onClick={() => setIsOpen(false)}\n          />\n          <div className=\"absolute left-0 top-full z-50 mt-1 w-80 rounded-xl border border-border bg-card p-3 shadow-xl\">\n            {/* Search */}\n            <div className=\"relative mb-3\">\n              <Search className=\"absolute left-2.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n              <input\n                type=\"text\"\n                placeholder=\"Icon хайх...\"\n                value={searchQuery}\n                onChange={(e) => {\n                  setSearchQuery(e.target.value)\n                  setActiveCategory(null)\n                }}\n                className=\"h-9 w-full rounded-lg border border-input bg-background pl-9 pr-3 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none\"\n              />\n              {searchQuery && (\n                <button\n                  onClick={() => setSearchQuery(\"\")}\n                  className=\"absolute right-2.5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground\"\n                >\n                  <X className=\"h-3.5 w-3.5\" />\n                </button>\n              )}\n            </div>\n\n            {/* Categories */}\n            {!searchQuery && (\n              <div className=\"mb-3 flex flex-wrap gap-1\">\n                <button\n                  onClick={() => setActiveCategory(null)}\n                  className={cn(\n                    \"rounded-full px-2.5 py-1 text-xs font-medium transition-colors\",\n                    activeCategory === null\n                      ? \"bg-primary text-primary-foreground\"\n                      : \"bg-secondary text-muted-foreground hover:text-foreground\"\n                  )}\n                >\n                  Бүгд\n                </button>\n                {Object.keys(iconCategories).map((cat) => (\n                  <button\n                    key={cat}\n                    onClick={() => setActiveCategory(cat)}\n                    className={cn(\n                      \"rounded-full px-2.5 py-1 text-xs font-medium transition-colors\",\n                      activeCategory === cat\n                        ? \"bg-primary text-primary-foreground\"\n                        : \"bg-secondary text-muted-foreground hover:text-foreground\"\n                    )}\n                  >\n                    {cat}\n                  </button>\n                ))}\n              </div>\n            )}\n\n            {/* Icons Grid */}\n            <div className=\"grid max-h-64 grid-cols-8 gap-1 overflow-y-auto\">\n              {filteredIcons.map((iconName) => {\n                const Icon = iconMap[iconName]\n                if (!Icon) return null\n                return (\n                  <button\n                    key={iconName}\n                    type=\"button\"\n                    onClick={() => {\n                      onChange(iconName)\n                      setIsOpen(false)\n                    }}\n                    className={cn(\n                      \"flex h-8 w-8 items-center justify-center rounded-md transition-colors\",\n                      value === iconName\n                        ? \"bg-primary text-primary-foreground\"\n                        : \"hover:bg-secondary text-foreground\"\n                    )}\n                    title={iconName}\n                  >\n                    <Icon className=\"h-4 w-4\" />\n                  </button>\n                )\n              })}\n            </div>\n\n            {filteredIcons.length === 0 && (\n              <p className=\"py-4 text-center text-sm text-muted-foreground\">\n                Icon олдсонгүй\n              </p>\n            )}\n\n            {/* Clear button */}\n            {value && (\n              <button\n                type=\"button\"\n                onClick={() => {\n                  onChange(\"\")\n                  setIsOpen(false)\n                }}\n                className=\"mt-3 w-full rounded-lg border border-input bg-background py-2 text-sm text-muted-foreground hover:text-foreground\"\n              >\n                Арилгах\n              </button>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n\n// Helper component to render icon by name\ninterface DynamicIconProps {\n  name?: string\n  className?: string\n  fallback?: React.ElementType\n}\n\nexport function DynamicIcon({ name, className, fallback: Fallback }: DynamicIconProps) {\n  if (!name) {\n    return Fallback ? <Fallback className={className} /> : null\n  }\n  \n  const Icon = iconMap[name]\n  if (!Icon) {\n    return Fallback ? <Fallback className={className} /> : null\n  }\n  \n  return <Icon className={className} />\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 937, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/app/admin/categories/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport Image from \"next/image\"\nimport {\n  Plus,\n  Search,\n  Edit,\n  Trash2,\n  MoreHorizontal,\n  FolderTree,\n  X,\n  BarChart3,\n  ImageIcon,\n  Upload,\n} from \"lucide-react\"\nimport Link from \"next/link\"\nimport { cn } from \"@/lib/utils\"\nimport {\n  createCategoryApi,\n  deleteCategoryApi,\n  getCategories,\n  type BackendCategory,\n  uploadImageApi,\n  updateCategoryApi,\n} from \"@/lib/api\"\nimport { IconPicker, DynamicIcon } from \"@/components/admin/icon-picker\"\n\ntype EditCategoryForm = {\n  name: string\n  slug: string\n  description: string\n  color: string\n  icon: string\n  bannerImage: string\n}\n\nconst initialForm: EditCategoryForm = {\n  name: \"\",\n  slug: \"\",\n  description: \"\",\n  color: \"chart-1\",\n  icon: \"\",\n  bannerImage: \"\",\n}\n\nconst colorBgMap: Record<string, string> = {\n  \"chart-1\": \"bg-chart-1\",\n  \"chart-2\": \"bg-chart-2\",\n  \"chart-3\": \"bg-chart-3\",\n  \"chart-4\": \"bg-chart-4\",\n  \"chart-5\": \"bg-chart-5\",\n  primary: \"bg-primary\",\n  destructive: \"bg-destructive\",\n}\n\nfunction normalizeColor(color?: string) {\n  if (!color) return \"chart-1\"\n  if (color.startsWith(\"text-\")) return color.replace(\"text-\", \"\")\n  if (color.startsWith(\"bg-\")) return color.replace(\"bg-\", \"\")\n  return color\n}\n\nexport default function AdminCategoriesPage() {\n  const [searchQuery, setSearchQuery] = useState(\"\")\n  const [showModal, setShowModal] = useState(false)\n  const [items, setItems] = useState<BackendCategory[]>([])\n  const [loading, setLoading] = useState(true)\n  const [saving, setSaving] = useState(false)\n  const [uploadingImage, setUploadingImage] = useState(false)\n  const [error, setError] = useState(\"\")\n  const [editingCategory, setEditingCategory] = useState<BackendCategory | null>(null)\n  const [formData, setFormData] = useState<EditCategoryForm>(initialForm)\n\n  async function loadCategories() {\n    try {\n      setLoading(true)\n      setError(\"\")\n      const categories = await getCategories()\n      setItems(categories)\n    } catch (e) {\n      setError(e instanceof Error ? e.message : \"Ангилал ачаалж чадсангүй\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    loadCategories()\n  }, [])\n\n  const filteredCategories = useMemo(\n    () =>\n      items.filter((cat) =>\n        cat.name.toLowerCase().includes(searchQuery.toLowerCase())\n      ),\n    [items, searchQuery]\n  )\n\n  function openCreateModal() {\n    setEditingCategory(null)\n    setFormData(initialForm)\n    setShowModal(true)\n  }\n\n  function openEditModal(cat: BackendCategory) {\n    setEditingCategory(cat)\n    setFormData({\n      name: cat.name,\n      slug: cat.slug,\n      description: cat.description || \"\",\n      color: normalizeColor(cat.color),\n      icon: cat.icon || \"\",\n      bannerImage: cat.bannerImage || \"\",\n    })\n    setShowModal(true)\n  }\n\n  async function onSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault()\n    if (!formData.name.trim() || !formData.slug.trim()) {\n      setError(\"Нэр болон slug шаардлагатай\")\n      return\n    }\n\n    try {\n      setSaving(true)\n      setError(\"\")\n      const payload = {\n        name: formData.name.trim(),\n        slug: formData.slug.trim(),\n        description: formData.description.trim(),\n        color: formData.color,\n        icon: formData.icon,\n        bannerImage: formData.bannerImage.trim(),\n      }\n\n      if (editingCategory) {\n        await updateCategoryApi(editingCategory._id, payload)\n      } else {\n        await createCategoryApi(payload)\n      }\n\n      setShowModal(false)\n      setFormData(initialForm)\n      setEditingCategory(null)\n      await loadCategories()\n    } catch (e) {\n      setError(e instanceof Error ? e.message : \"Хадгалах үед алдаа гарлаа\")\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  async function onDelete(id: string) {\n    if (!confirm(\"Энэ ангиллыг устгах уу?\")) return\n    try {\n      setError(\"\")\n      await deleteCategoryApi(id)\n      await loadCategories()\n    } catch (e) {\n      setError(e instanceof Error ? e.message : \"Устгах үед алдаа гарлаа\")\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      <header className=\"sticky top-0 z-30 border-b border-border bg-card/80 backdrop-blur-sm\">\n        <div className=\"flex h-16 items-center justify-between px-6\">\n          <div>\n            <h1 className=\"text-xl font-bold text-foreground\">Ангилал</h1>\n            <p className=\"text-sm text-muted-foreground\">Нийт {items.length} ангилал</p>\n          </div>\n          <button\n            onClick={openCreateModal}\n            className=\"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            Шинэ ангилал\n          </button>\n        </div>\n      </header>\n\n      <div className=\"p-6\">\n        <div className=\"mb-6\">\n          <div className=\"relative max-w-md\">\n            <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n            <input\n              type=\"text\"\n              placeholder=\"Ангилал хайх...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"h-10 w-full rounded-lg border border-input bg-background pl-10 pr-4 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary\"\n            />\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"mb-4 rounded-lg border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive\">\n            {error}\n          </div>\n        )}\n\n        {loading ? (\n          <p className=\"text-sm text-muted-foreground\">Ачаалж байна...</p>\n        ) : (\n          <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n            {filteredCategories.map((cat) => (\n              <div\n                key={cat._id}\n                className=\"group overflow-hidden rounded-xl border border-border bg-card transition-all hover:shadow-md\"\n              >\n                {cat.bannerImage ? (\n                  <div className=\"relative h-24 w-full\">\n                    <Image src={cat.bannerImage} alt={cat.name} fill className=\"object-cover\" />\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-foreground/60 to-transparent\" />\n                  </div>\n                ) : (\n                  <div className=\"flex h-24 w-full items-center justify-center bg-muted\">\n                    <ImageIcon className=\"h-8 w-8 text-muted-foreground\" />\n                  </div>\n                )}\n\n                <div className=\"p-5\">\n                  <div className=\"flex items-start justify-between\">\n                    <div\n                      className={cn(\n                        \"flex h-12 w-12 items-center justify-center rounded-xl -mt-10 relative z-10 border-4 border-card text-white\",\n                        colorBgMap[normalizeColor(cat.color)] || \"bg-chart-1\"\n                      )}\n                    >\n                      <DynamicIcon name={cat.icon} className=\"h-6 w-6\" fallback={FolderTree} />\n                    </div>\n                    <div className=\"relative\">\n                      <button className=\"flex h-8 w-8 items-center justify-center rounded-md text-muted-foreground opacity-0 transition-opacity hover:bg-secondary hover:text-foreground group-hover:opacity-100\">\n                        <MoreHorizontal className=\"h-4 w-4\" />\n                      </button>\n                      <div className=\"absolute right-0 top-full z-10 mt-1 hidden w-36 rounded-lg border border-border bg-card py-1 shadow-lg group-hover:group-focus-within:block\">\n                        <button\n                          onClick={() => openEditModal(cat)}\n                          className=\"flex w-full items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-secondary\"\n                        >\n                          <Edit className=\"h-4 w-4\" />\n                          Засах\n                        </button>\n                        <Link\n                          href={`/admin/categories/${cat.slug}/stats`}\n                          className=\"flex w-full items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-secondary\"\n                        >\n                          <BarChart3 className=\"h-4 w-4\" />\n                          Статистик\n                        </Link>\n                        <button\n                          onClick={() => onDelete(cat._id)}\n                          className=\"flex w-full items-center gap-2 px-3 py-2 text-sm text-destructive hover:bg-destructive/10\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                          Устгах\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"mt-4\">\n                    <h3 className=\"text-lg font-semibold text-foreground\">{cat.name}</h3>\n                    <p className=\"mt-1 line-clamp-2 text-sm text-muted-foreground\">\n                      {cat.description || \"Тайлбар байхгүй\"}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-foreground/20 backdrop-blur-sm\">\n          <div className=\"max-h-[90vh] w-full max-w-lg overflow-y-auto rounded-xl border border-border bg-card p-6 shadow-xl\">\n            <div className=\"mb-6 flex items-center justify-between\">\n              <h2 className=\"text-lg font-bold text-foreground\">\n                {editingCategory ? \"Ангилал засах\" : \"Шинэ ангилал\"}\n              </h2>\n              <button\n                onClick={() => setShowModal(false)}\n                className=\"flex h-8 w-8 items-center justify-center rounded-md text-muted-foreground hover:bg-secondary hover:text-foreground\"\n              >\n                <X className=\"h-4 w-4\" />\n              </button>\n            </div>\n\n            <form className=\"space-y-4\" onSubmit={onSubmit}>\n              <div>\n                <label className=\"mb-1.5 block text-sm font-medium text-foreground\">Banner зураг</label>\n                <div className=\"relative\">\n                  {formData.bannerImage ? (\n                    <div className=\"relative h-32 w-full overflow-hidden rounded-lg\">\n                      <Image src={formData.bannerImage} alt=\"Banner\" fill className=\"object-cover\" />\n                      <button\n                        type=\"button\"\n                        onClick={() => setFormData({ ...formData, bannerImage: \"\" })}\n                        className=\"absolute right-2 top-2 flex h-6 w-6 items-center justify-center rounded-full bg-foreground/80 text-background hover:bg-foreground\"\n                      >\n                        <X className=\"h-3 w-3\" />\n                      </button>\n                    </div>\n                  ) : (\n                    <label className=\"flex h-32 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-input bg-background hover:bg-secondary/30\">\n                      <Upload className=\"h-6 w-6 text-muted-foreground\" />\n                      <span className=\"mt-2 text-sm text-muted-foreground\">Зураг оруулах</span>\n                      <input\n                        type=\"file\"\n                        className=\"hidden\"\n                        accept=\"image/*\"\n                        onChange={async (e) => {\n                          const file = e.target.files?.[0]\n                          if (!file) return\n                          const input = e.currentTarget\n                          setUploadingImage(true)\n                          setError(\"\")\n                          try {\n                            const uploadedUrl = await uploadImageApi(file, \"categories\")\n                            setFormData((prev) => ({ ...prev, bannerImage: uploadedUrl }))\n                          } catch (err) {\n                            setError(\n                              err instanceof Error\n                                ? err.message\n                                : \"Banner зураг upload хийхэд алдаа гарлаа\"\n                            )\n                          } finally {\n                            setUploadingImage(false)\n                            input.value = \"\"\n                          }\n                        }}\n                      />\n                    </label>\n                  )}\n                </div>\n                {formData.bannerImage && (\n                  <label className=\"mt-2 inline-flex cursor-pointer items-center rounded-md border border-input px-3 py-1.5 text-xs text-foreground hover:bg-secondary\">\n                    Зураг солих\n                    <input\n                      type=\"file\"\n                      className=\"hidden\"\n                      accept=\"image/*\"\n                      onChange={async (e) => {\n                        const file = e.target.files?.[0]\n                        if (!file) return\n                        const input = e.currentTarget\n                        setUploadingImage(true)\n                        setError(\"\")\n                        try {\n                          const uploadedUrl = await uploadImageApi(file, \"categories\")\n                          setFormData((prev) => ({ ...prev, bannerImage: uploadedUrl }))\n                        } catch (err) {\n                          setError(\n                            err instanceof Error\n                              ? err.message\n                              : \"Banner зураг upload хийхэд алдаа гарлаа\"\n                          )\n                        } finally {\n                          setUploadingImage(false)\n                          input.value = \"\"\n                        }\n                      }}\n                    />\n                  </label>\n                )}\n                {uploadingImage && (\n                  <p className=\"mt-2 text-xs text-muted-foreground\">Banner зураг upload хийж байна...</p>\n                )}\n                <input\n                  type=\"text\"\n                  value={formData.bannerImage}\n                  onChange={(e) => setFormData({ ...formData, bannerImage: e.target.value })}\n                  placeholder=\"https://...\"\n                  className=\"mt-2 h-9 w-full rounded-lg border border-input bg-background px-3 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"mb-1.5 block text-sm font-medium text-foreground\">Нэр</label>\n                  <input\n                    type=\"text\"\n                    value={formData.name}\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                    placeholder=\"Ангилалын нэр\"\n                    className=\"h-10 w-full rounded-lg border border-input bg-background px-3 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"mb-1.5 block text-sm font-medium text-foreground\">Slug</label>\n                  <input\n                    type=\"text\"\n                    value={formData.slug}\n                    onChange={(e) => setFormData({ ...formData, slug: e.target.value })}\n                    placeholder=\"category-slug\"\n                    className=\"h-10 w-full rounded-lg border border-input bg-background px-3 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"mb-1.5 block text-sm font-medium text-foreground\">Тайлбар</label>\n                <textarea\n                  rows={2}\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Ангилалын тайлбар\"\n                  className=\"w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"mb-1.5 block text-sm font-medium text-foreground\">Icon</label>\n                  <IconPicker\n                    value={formData.icon}\n                    onChange={(icon) => setFormData({ ...formData, icon })}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"mb-1.5 block text-sm font-medium text-foreground\">Өнгө</label>\n                  <div className=\"flex h-10 items-center gap-2\">\n                    {[\"chart-1\", \"chart-2\", \"chart-3\", \"chart-4\", \"chart-5\", \"primary\", \"destructive\"].map(\n                      (color) => (\n                        <button\n                          key={color}\n                          type=\"button\"\n                          onClick={() => setFormData({ ...formData, color })}\n                          className={cn(\n                            \"h-7 w-7 rounded-full border-2 transition-all hover:scale-110\",\n                            colorBgMap[color],\n                            formData.color === color ? \"border-foreground\" : \"border-transparent\"\n                          )}\n                        />\n                      )\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowModal(false)}\n                  className=\"flex-1 rounded-lg border border-input bg-background py-2.5 text-sm font-medium text-foreground hover:bg-secondary\"\n                >\n                  Болих\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={saving}\n                  className=\"flex-1 rounded-lg bg-primary py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90 disabled:opacity-60\"\n                >\n                  {saving ? \"Түр хүлээнэ үү...\" : editingCategory ? \"Хадгалах\" : \"Үүсгэх\"}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}