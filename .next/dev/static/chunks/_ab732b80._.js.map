{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/components/editor/tiptap-editor.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEditor, EditorContent, BubbleMenu } from \"@tiptap/react\"\nimport StarterKit from \"@tiptap/starter-kit\"\nimport Underline from \"@tiptap/extension-underline\"\nimport Link from \"@tiptap/extension-link\"\nimport TextAlign from \"@tiptap/extension-text-align\"\nimport Placeholder from \"@tiptap/extension-placeholder\"\nimport TiptapImage from \"@tiptap/extension-image\"\nimport {\n  Bold,\n  Italic,\n  Underline as UnderlineIcon,\n  Strikethrough,\n  Code,\n  Heading1,\n  Heading2,\n  Heading3,\n  List,\n  ListOrdered,\n  Quote,\n  Undo,\n  Redo,\n  Link as LinkIcon,\n  Unlink,\n  AlignLeft,\n  AlignCenter,\n  AlignRight,\n  AlignJustify,\n  ImageIcon,\n  Minus,\n  Code2,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { useCallback, useEffect, useRef, useState, type ChangeEvent } from \"react\"\nimport { uploadImageApi } from \"@/lib/api\"\n\ninterface TiptapEditorProps {\n  content?: string\n  onChange?: (content: string) => void\n  placeholder?: string\n}\n\nexport function TiptapEditor({\n  content = \"\",\n  onChange,\n  placeholder = \"Энд нийтлэлийн агуулгаа бичнэ үү...\",\n}: TiptapEditorProps) {\n  const [linkUrl, setLinkUrl] = useState(\"\")\n  const [showLinkInput, setShowLinkInput] = useState(false)\n  const [isUploadingImage, setIsUploadingImage] = useState(false)\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        heading: {\n          levels: [1, 2, 3],\n        },\n      }),\n      Underline,\n      Link.configure({\n        openOnClick: false,\n        HTMLAttributes: {\n          class: \"text-primary underline\",\n        },\n      }),\n      TextAlign.configure({\n        types: [\"heading\", \"paragraph\"],\n      }),\n      Placeholder.configure({\n        placeholder,\n      }),\n      TiptapImage.configure({\n        HTMLAttributes: {\n          class: \"rounded-lg max-w-full h-auto\",\n        },\n      }),\n    ],\n    content,\n    editorProps: {\n      attributes: {\n        class:\n          \"prose prose-sm sm:prose-base dark:prose-invert max-w-none focus:outline-none min-h-[400px] px-4 py-3\",\n      },\n      handlePaste: (view, event) => {\n        const files = event.clipboardData?.files\n        if (!files || files.length === 0) return false\n\n        const imageFile = Array.from(files).find((file) =>\n          file.type.startsWith(\"image/\")\n        )\n        if (!imageFile) return false\n\n        setIsUploadingImage(true)\n        uploadImageApi(imageFile, \"editor\")\n          .then((url) => {\n            view.dispatch(view.state.tr)\n            editor?.chain().focus().setImage({ src: url }).run()\n          })\n          .finally(() => {\n            setIsUploadingImage(false)\n          })\n        return true\n      },\n    },\n    onUpdate: ({ editor }) => {\n      onChange?.(editor.getHTML())\n    },\n  })\n\n  useEffect(() => {\n    if (!editor) return\n    const current = editor.getHTML()\n    if (content !== current) {\n      editor.commands.setContent(content || \"\", false)\n    }\n  }, [content, editor])\n\n  const addImage = useCallback(() => {\n    fileInputRef.current?.click()\n  }, [])\n\n  const onSelectImage = useCallback(\n    async (e: ChangeEvent<HTMLInputElement>) => {\n      const file = e.target.files?.[0]\n      if (!file || !editor) return\n      const input = e.currentTarget\n      setIsUploadingImage(true)\n      try {\n        const url = await uploadImageApi(file, \"editor\")\n        editor.chain().focus().setImage({ src: url }).run()\n      } finally {\n        setIsUploadingImage(false)\n        input.value = \"\"\n      }\n    },\n    [editor]\n  )\n\n  const setLink = useCallback(() => {\n    if (!editor) return\n\n    if (linkUrl === \"\") {\n      editor.chain().focus().extendMarkRange(\"link\").unsetLink().run()\n      return\n    }\n\n    editor\n      .chain()\n      .focus()\n      .extendMarkRange(\"link\")\n      .setLink({ href: linkUrl })\n      .run()\n\n    setLinkUrl(\"\")\n    setShowLinkInput(false)\n  }, [editor, linkUrl])\n\n  if (!editor) {\n    return null\n  }\n\n  const ToolbarButton = ({\n    onClick,\n    isActive = false,\n    disabled = false,\n    children,\n    title,\n  }: {\n    onClick: () => void\n    isActive?: boolean\n    disabled?: boolean\n    children: React.ReactNode\n    title?: string\n  }) => (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      disabled={disabled}\n      title={title}\n      className={cn(\n        \"flex h-8 w-8 items-center justify-center rounded-md transition-colors\",\n        isActive\n          ? \"bg-primary text-primary-foreground\"\n          : \"text-muted-foreground hover:bg-secondary hover:text-foreground\",\n        disabled && \"cursor-not-allowed opacity-50\"\n      )}\n    >\n      {children}\n    </button>\n  )\n\n  const ToolbarDivider = () => <div className=\"mx-1 h-6 w-px bg-border\" />\n\n  return (\n    <div className=\"rounded-lg border border-border bg-card\">\n      {/* Toolbar */}\n      <div className=\"flex flex-wrap items-center gap-0.5 border-b border-border p-2\">\n        {/* Undo/Redo */}\n        <ToolbarButton\n          onClick={() => editor.chain().focus().undo().run()}\n          disabled={!editor.can().undo()}\n          title=\"Буцаах\"\n        >\n          <Undo className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().redo().run()}\n          disabled={!editor.can().redo()}\n          title=\"Дахин хийх\"\n        >\n          <Redo className=\"h-4 w-4\" />\n        </ToolbarButton>\n\n        <ToolbarDivider />\n\n        {/* Headings */}\n        <ToolbarButton\n          onClick={() =>\n            editor.chain().focus().toggleHeading({ level: 1 }).run()\n          }\n          isActive={editor.isActive(\"heading\", { level: 1 })}\n          title=\"Гарчиг 1\"\n        >\n          <Heading1 className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() =>\n            editor.chain().focus().toggleHeading({ level: 2 }).run()\n          }\n          isActive={editor.isActive(\"heading\", { level: 2 })}\n          title=\"Гарчиг 2\"\n        >\n          <Heading2 className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() =>\n            editor.chain().focus().toggleHeading({ level: 3 }).run()\n          }\n          isActive={editor.isActive(\"heading\", { level: 3 })}\n          title=\"Гарчиг 3\"\n        >\n          <Heading3 className=\"h-4 w-4\" />\n        </ToolbarButton>\n\n        <ToolbarDivider />\n\n        {/* Basic Formatting */}\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleBold().run()}\n          isActive={editor.isActive(\"bold\")}\n          title=\"Тод\"\n        >\n          <Bold className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleItalic().run()}\n          isActive={editor.isActive(\"italic\")}\n          title=\"Налуу\"\n        >\n          <Italic className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleUnderline().run()}\n          isActive={editor.isActive(\"underline\")}\n          title=\"Доогуур зураас\"\n        >\n          <UnderlineIcon className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleStrike().run()}\n          isActive={editor.isActive(\"strike\")}\n          title=\"Дундуур зураас\"\n        >\n          <Strikethrough className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleCode().run()}\n          isActive={editor.isActive(\"code\")}\n          title=\"Код\"\n        >\n          <Code className=\"h-4 w-4\" />\n        </ToolbarButton>\n\n        <ToolbarDivider />\n\n        {/* Alignment */}\n        <ToolbarButton\n          onClick={() => editor.chain().focus().setTextAlign(\"left\").run()}\n          isActive={editor.isActive({ textAlign: \"left\" })}\n          title=\"Зүүн\"\n        >\n          <AlignLeft className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().setTextAlign(\"center\").run()}\n          isActive={editor.isActive({ textAlign: \"center\" })}\n          title=\"Төв\"\n        >\n          <AlignCenter className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().setTextAlign(\"right\").run()}\n          isActive={editor.isActive({ textAlign: \"right\" })}\n          title=\"Баруун\"\n        >\n          <AlignRight className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().setTextAlign(\"justify\").run()}\n          isActive={editor.isActive({ textAlign: \"justify\" })}\n          title=\"Тэгшлэх\"\n        >\n          <AlignJustify className=\"h-4 w-4\" />\n        </ToolbarButton>\n\n        <ToolbarDivider />\n\n        {/* Lists */}\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleBulletList().run()}\n          isActive={editor.isActive(\"bulletList\")}\n          title=\"Жагсаалт\"\n        >\n          <List className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleOrderedList().run()}\n          isActive={editor.isActive(\"orderedList\")}\n          title=\"Дугаарласан жагсаалт\"\n        >\n          <ListOrdered className=\"h-4 w-4\" />\n        </ToolbarButton>\n\n        <ToolbarDivider />\n\n        {/* Block Elements */}\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleBlockquote().run()}\n          isActive={editor.isActive(\"blockquote\")}\n          title=\"Ишлэл\"\n        >\n          <Quote className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().toggleCodeBlock().run()}\n          isActive={editor.isActive(\"codeBlock\")}\n          title=\"Код блок\"\n        >\n          <Code2 className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <ToolbarButton\n          onClick={() => editor.chain().focus().setHorizontalRule().run()}\n          title=\"Хэвтээ шугам\"\n        >\n          <Minus className=\"h-4 w-4\" />\n        </ToolbarButton>\n\n        <ToolbarDivider />\n\n        {/* Link */}\n        <div className=\"relative\">\n          <ToolbarButton\n            onClick={() => setShowLinkInput(!showLinkInput)}\n            isActive={editor.isActive(\"link\")}\n            title=\"Холбоос\"\n          >\n            <LinkIcon className=\"h-4 w-4\" />\n          </ToolbarButton>\n          {showLinkInput && (\n            <div className=\"absolute left-0 top-full z-10 mt-1 flex items-center gap-2 rounded-lg border border-border bg-card p-2 shadow-lg\">\n              <input\n                type=\"url\"\n                placeholder=\"https://...\"\n                value={linkUrl}\n                onChange={(e) => setLinkUrl(e.target.value)}\n                className=\"w-48 rounded-md border border-border bg-background px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n                onKeyDown={(e) => e.key === \"Enter\" && setLink()}\n              />\n              <button\n                onClick={setLink}\n                className=\"rounded-md bg-primary px-2 py-1 text-xs font-medium text-primary-foreground\"\n              >\n                Нэмэх\n              </button>\n            </div>\n          )}\n        </div>\n        {editor.isActive(\"link\") && (\n          <ToolbarButton\n            onClick={() => editor.chain().focus().unsetLink().run()}\n            title=\"Холбоос устгах\"\n          >\n            <Unlink className=\"h-4 w-4\" />\n          </ToolbarButton>\n        )}\n\n        {/* Image */}\n        <ToolbarButton onClick={addImage} title=\"Зураг\">\n          <ImageIcon className=\"h-4 w-4\" />\n        </ToolbarButton>\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          className=\"hidden\"\n          accept=\"image/*\"\n          onChange={onSelectImage}\n        />\n      </div>\n\n      {/* Bubble Menu */}\n      {editor && (\n        <BubbleMenu\n          editor={editor}\n          tippyOptions={{ duration: 100 }}\n          className=\"flex items-center gap-0.5 rounded-lg border border-border bg-card p-1 shadow-lg\"\n        >\n          <ToolbarButton\n            onClick={() => editor.chain().focus().toggleBold().run()}\n            isActive={editor.isActive(\"bold\")}\n          >\n            <Bold className=\"h-3.5 w-3.5\" />\n          </ToolbarButton>\n          <ToolbarButton\n            onClick={() => editor.chain().focus().toggleItalic().run()}\n            isActive={editor.isActive(\"italic\")}\n          >\n            <Italic className=\"h-3.5 w-3.5\" />\n          </ToolbarButton>\n          <ToolbarButton\n            onClick={() => editor.chain().focus().toggleUnderline().run()}\n            isActive={editor.isActive(\"underline\")}\n          >\n            <UnderlineIcon className=\"h-3.5 w-3.5\" />\n          </ToolbarButton>\n        </BubbleMenu>\n      )}\n\n      {/* Editor Content */}\n      <EditorContent editor={editor} />\n      {isUploadingImage && (\n        <div className=\"border-t border-border px-4 py-2 text-xs text-muted-foreground\">\n          Зураг upload хийж байна...\n        </div>\n      )}\n\n      {/* Character Count */}\n      <div className=\"flex items-center justify-between border-t border-border px-4 py-2 text-xs text-muted-foreground\">\n        <span>\n          {editor.storage.characterCount?.characters?.() ?? 0} тэмдэгт\n        </span>\n        <span>{editor.storage.characterCount?.words?.() ?? 0} үг</span>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/app/dashboard/posts/new/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport Link from \"next/link\"\nimport { useRouter } from \"next/navigation\"\nimport {\n  ArrowLeft,\n  Save,\n  Eye,\n  Send,\n  ImageIcon,\n  X,\n  Calendar,\n  Tag,\n  Hash,\n  Globe,\n  Lock,\n  ChevronDown,\n  Sparkles,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { TiptapEditor } from \"@/components/editor/tiptap-editor\"\nimport {\n  createPostApi,\n  getCategories,\n  getTopics,\n  type BackendCategory,\n  type BackendTopic,\n  uploadImageApi,\n} from \"@/lib/api\"\n\nexport default function NewPostPage() {\n  const router = useRouter()\n  const [title, setTitle] = useState(\"\")\n  const [excerpt, setExcerpt] = useState(\"\")\n  const [content, setContent] = useState(\"\")\n  const [featuredImage, setFeaturedImage] = useState(\"\")\n  const [selectedCategory, setSelectedCategory] = useState(\"\")\n  const [selectedTopics, setSelectedTopics] = useState<string[]>([])\n  const [visibility, setVisibility] = useState<\"public\" | \"private\">(\"public\")\n  const [scheduledDate, setScheduledDate] = useState(\"\")\n  const [isSaving, setIsSaving] = useState(false)\n  const [isUploadingImage, setIsUploadingImage] = useState(false)\n  const [showCategoryDropdown, setShowCategoryDropdown] = useState(false)\n  const [showTopicsDropdown, setShowTopicsDropdown] = useState(false)\n  const [error, setError] = useState(\"\")\n  const [categories, setCategories] = useState<BackendCategory[]>([])\n  const [topics, setTopics] = useState<BackendTopic[]>([])\n\n  useEffect(() => {\n    Promise.all([getCategories(), getTopics()])\n      .then(([cats, tpcs]) => {\n        setCategories(cats)\n        setTopics(tpcs)\n      })\n      .catch(() => {\n        setCategories([])\n        setTopics([])\n      })\n  }, [])\n\n  const handleSaveDraft = async () => {\n    if (!title.trim() || !content.trim()) {\n      setError(\"Гарчиг болон агуулга шаардлагатай\")\n      return\n    }\n    setIsSaving(true)\n    setError(\"\")\n    try {\n      await createPostApi({\n        title: title.trim(),\n        excerpt: excerpt.trim(),\n        content,\n        featuredImage,\n        category: selectedCategory || undefined,\n        topics: selectedTopics,\n        visibility,\n        status: \"draft\",\n      })\n      router.push(\"/dashboard/posts\")\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Ноорог хадгалахад алдаа\")\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const handlePublish = async () => {\n    if (!title.trim() || !content.trim()) {\n      setError(\"Гарчиг болон агуулга шаардлагатай\")\n      return\n    }\n    setIsSaving(true)\n    setError(\"\")\n    try {\n      await createPostApi({\n        title: title.trim(),\n        excerpt: excerpt.trim(),\n        content,\n        featuredImage,\n        category: selectedCategory || undefined,\n        topics: selectedTopics,\n        visibility,\n        status: \"published\",\n        publishedAt: scheduledDate || undefined,\n      })\n      router.push(\"/dashboard/posts\")\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Нийтлэх үед алдаа\")\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const toggleTopic = (slug: string) => {\n    setSelectedTopics((prev) =>\n      prev.includes(slug) ? prev.filter((t) => t !== slug) : [...prev, slug]\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"sticky top-0 z-30 border-b border-border bg-card/95 backdrop-blur\">\n        <div className=\"flex h-16 items-center justify-between px-6\">\n          <div className=\"flex items-center gap-4\">\n            <Link\n              href=\"/dashboard/posts\"\n              className=\"flex h-9 w-9 items-center justify-center rounded-md text-muted-foreground hover:bg-secondary hover:text-foreground\"\n            >\n              <ArrowLeft className=\"h-5 w-5\" />\n            </Link>\n            <div>\n              <h1 className=\"text-lg font-semibold text-foreground\">\n                Шинэ нийтлэл\n              </h1>\n              <p className=\"text-xs text-muted-foreground\">\n                Ноорог автоматаар хадгалагдаж байна\n              </p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={handleSaveDraft}\n              disabled={isSaving}\n              className=\"flex items-center gap-2 rounded-lg border border-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:bg-secondary disabled:opacity-50\"\n            >\n              <Save className=\"h-4 w-4\" />\n              {isSaving ? \"Хадгалж байна...\" : \"Ноорог хадгалах\"}\n            </button>\n            <button className=\"flex items-center gap-2 rounded-lg border border-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:bg-secondary\">\n              <Eye className=\"h-4 w-4\" />\n              Урьдчилан харах\n            </button>\n            <button\n              onClick={handlePublish}\n              className=\"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90\"\n            >\n              <Send className=\"h-4 w-4\" />\n              Нийтлэх\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"mx-auto max-w-7xl px-6 py-8\">\n        {error && (\n          <div className=\"mb-4 rounded-lg bg-destructive/10 p-3 text-sm text-destructive\">\n            {error}\n          </div>\n        )}\n        <div className=\"grid gap-8 lg:grid-cols-3\">\n          {/* Main Editor */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Title */}\n            <div>\n              <input\n                type=\"text\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                placeholder=\"Нийтлэлийн гарчиг...\"\n                className=\"w-full border-none bg-transparent text-3xl font-bold text-foreground placeholder:text-muted-foreground/50 focus:outline-none\"\n              />\n            </div>\n\n            {/* Excerpt */}\n            <div>\n              <label className=\"mb-2 block text-sm font-medium text-foreground\">\n                Товч тайлбар\n              </label>\n              <textarea\n                value={excerpt}\n                onChange={(e) => setExcerpt(e.target.value)}\n                placeholder=\"Нийтлэлийн товч тайлбар (feed дээр харагдана)...\"\n                rows={3}\n                className=\"w-full resize-none rounded-lg border border-border bg-card px-4 py-3 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring\"\n              />\n              <p className=\"mt-1 text-xs text-muted-foreground\">\n                {excerpt.length}/200 тэмдэгт\n              </p>\n            </div>\n\n            {/* Content Editor */}\n            <div>\n              <label className=\"mb-2 block text-sm font-medium text-foreground\">\n                Агуулга\n              </label>\n              <TiptapEditor content={content} onChange={setContent} />\n            </div>\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Featured Image */}\n            <div className=\"rounded-xl border border-border bg-card p-5\">\n              <h3 className=\"mb-4 text-sm font-semibold text-foreground\">\n                Онцлох зураг\n              </h3>\n              {featuredImage ? (\n                <div className=\"relative aspect-video overflow-hidden rounded-lg\">\n                  <img\n                    src={featuredImage}\n                    alt=\"Featured\"\n                    className=\"h-full w-full object-cover\"\n                  />\n                  <button\n                    onClick={() => setFeaturedImage(\"\")}\n                    className=\"absolute right-2 top-2 flex h-7 w-7 items-center justify-center rounded-full bg-background/80 text-foreground hover:bg-background\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                  </button>\n                </div>\n              ) : (\n                <label className=\"flex aspect-video cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30 transition-colors hover:border-primary hover:bg-muted/50\">\n                  <ImageIcon className=\"h-10 w-10 text-muted-foreground\" />\n                  <span className=\"mt-2 text-sm text-muted-foreground\">\n                    Зураг оруулах\n                  </span>\n                  <span className=\"mt-1 text-xs text-muted-foreground\">\n                    PNG, JPG, WebP (16:9)\n                  </span>\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"hidden\"\n                    onChange={async (e) => {\n                      const file = e.target.files?.[0]\n                      if (!file) return\n                      const input = e.currentTarget\n                      setIsUploadingImage(true)\n                      setError(\"\")\n                      try {\n                        const uploadedUrl = await uploadImageApi(file, \"posts\")\n                        setFeaturedImage(uploadedUrl)\n                      } catch (err) {\n                        setError(err instanceof Error ? err.message : \"Зураг upload хийхэд алдаа гарлаа\")\n                      } finally {\n                        setIsUploadingImage(false)\n                        input.value = \"\"\n                      }\n                    }}\n                  />\n                </label>\n              )}\n              {isUploadingImage && (\n                <p className=\"mt-2 text-xs text-muted-foreground\">Зураг upload хийж байна...</p>\n              )}\n            </div>\n\n            {/* Category */}\n            <div className=\"rounded-xl border border-border bg-card p-5\">\n              <h3 className=\"mb-4 text-sm font-semibold text-foreground\">\n                Ангилал\n              </h3>\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowCategoryDropdown(!showCategoryDropdown)}\n                  className=\"flex w-full items-center justify-between rounded-lg border border-border bg-background px-4 py-2.5 text-sm text-foreground\"\n                >\n                  <span className=\"flex items-center gap-2\">\n                    <Tag className=\"h-4 w-4 text-muted-foreground\" />\n                    {selectedCategory\n                      ? categories.find((c) => c._id === selectedCategory)\n                          ?.name\n                      : \"Ангилал сонгох\"}\n                  </span>\n                  <ChevronDown\n                    className={cn(\n                      \"h-4 w-4 text-muted-foreground transition-transform\",\n                      showCategoryDropdown && \"rotate-180\"\n                    )}\n                  />\n                </button>\n                {showCategoryDropdown && (\n                  <div className=\"absolute left-0 right-0 top-full z-10 mt-1 rounded-lg border border-border bg-card py-1 shadow-lg\">\n                    {categories.map((cat) => (\n                      <button\n                        key={cat._id}\n                        onClick={() => {\n                          setSelectedCategory(cat._id)\n                          setShowCategoryDropdown(false)\n                        }}\n                        className={cn(\n                          \"flex w-full items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted\",\n                          selectedCategory === cat._id\n                            ? \"bg-primary/10 text-primary\"\n                            : \"text-foreground\"\n                        )}\n                      >\n                        <span className=\"h-2 w-2 rounded-full bg-primary\" />\n                        {cat.name}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Topics */}\n            <div className=\"rounded-xl border border-border bg-card p-5\">\n              <h3 className=\"mb-4 text-sm font-semibold text-foreground\">\n                Сэдэв\n              </h3>\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowTopicsDropdown(!showTopicsDropdown)}\n                  className=\"flex w-full items-center justify-between rounded-lg border border-border bg-background px-4 py-2.5 text-sm text-foreground\"\n                >\n                  <span className=\"flex items-center gap-2\">\n                    <Hash className=\"h-4 w-4 text-muted-foreground\" />\n                    {selectedTopics.length > 0\n                      ? `${selectedTopics.length} сэдэв сонгосон`\n                      : \"Сэдэв сонгох (заавал биш)\"}\n                  </span>\n                  <ChevronDown\n                    className={cn(\n                      \"h-4 w-4 text-muted-foreground transition-transform\",\n                      showTopicsDropdown && \"rotate-180\"\n                    )}\n                  />\n                </button>\n                {showTopicsDropdown && (\n                  <div className=\"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-y-auto rounded-lg border border-border bg-card py-1 shadow-lg\">\n                    {topics.map((topic) => (\n                      <button\n                        key={topic._id}\n                        onClick={() => toggleTopic(topic._id)}\n                        className={cn(\n                          \"flex w-full items-center gap-2 px-4 py-2 text-sm transition-colors hover:bg-muted\",\n                          selectedTopics.includes(topic._id)\n                            ? \"bg-primary/10 text-primary\"\n                            : \"text-foreground\"\n                        )}\n                      >\n                        <span\n                          className={cn(\n                            \"flex h-4 w-4 items-center justify-center rounded border\",\n                            selectedTopics.includes(topic._id)\n                              ? \"border-primary bg-primary text-primary-foreground\"\n                              : \"border-border\"\n                          )}\n                        >\n                          {selectedTopics.includes(topic._id) && (\n                            <svg\n                              className=\"h-3 w-3\"\n                              fill=\"none\"\n                              viewBox=\"0 0 24 24\"\n                              stroke=\"currentColor\"\n                            >\n                              <path\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                strokeWidth={2}\n                                d=\"M5 13l4 4L19 7\"\n                              />\n                            </svg>\n                          )}\n                        </span>\n                        {topic.name}\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n              {selectedTopics.length > 0 && (\n                <div className=\"mt-3 flex flex-wrap gap-2\">\n                  {selectedTopics.map((slug) => {\n                    const topic = topics.find((t) => t._id === slug)\n                    return topic ? (\n                      <span\n                        key={slug}\n                        className=\"flex items-center gap-1 rounded-full bg-primary/10 px-2.5 py-1 text-xs font-medium text-primary\"\n                      >\n                        {topic.name}\n                        <button onClick={() => toggleTopic(slug)}>\n                          <X className=\"h-3 w-3\" />\n                        </button>\n                      </span>\n                    ) : null\n                  })}\n                </div>\n              )}\n            </div>\n\n            {/* Visibility */}\n            <div className=\"rounded-xl border border-border bg-card p-5\">\n              <h3 className=\"mb-4 text-sm font-semibold text-foreground\">\n                Нийтлэх тохиргоо\n              </h3>\n              <div className=\"space-y-3\">\n                <label className=\"flex cursor-pointer items-center gap-3 rounded-lg border border-border p-3 transition-colors hover:bg-muted/30\">\n                  <input\n                    type=\"radio\"\n                    name=\"visibility\"\n                    checked={visibility === \"public\"}\n                    onChange={() => setVisibility(\"public\")}\n                    className=\"h-4 w-4 text-primary\"\n                  />\n                  <Globe className=\"h-4 w-4 text-muted-foreground\" />\n                  <div>\n                    <p className=\"text-sm font-medium text-foreground\">Нийтэд</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Бүх хэрэглэгч харах боломжтой\n                    </p>\n                  </div>\n                </label>\n                <label className=\"flex cursor-pointer items-center gap-3 rounded-lg border border-border p-3 transition-colors hover:bg-muted/30\">\n                  <input\n                    type=\"radio\"\n                    name=\"visibility\"\n                    checked={visibility === \"private\"}\n                    onChange={() => setVisibility(\"private\")}\n                    className=\"h-4 w-4 text-primary\"\n                  />\n                  <Lock className=\"h-4 w-4 text-muted-foreground\" />\n                  <div>\n                    <p className=\"text-sm font-medium text-foreground\">Хувийн</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Зөвхөн та харах боломжтой\n                    </p>\n                  </div>\n                </label>\n              </div>\n            </div>\n\n            {/* Schedule */}\n            <div className=\"rounded-xl border border-border bg-card p-5\">\n              <h3 className=\"mb-4 text-sm font-semibold text-foreground\">\n                Товлосон огноо\n              </h3>\n              <div className=\"flex items-center gap-2\">\n                <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                <input\n                  type=\"datetime-local\"\n                  value={scheduledDate}\n                  onChange={(e) => setScheduledDate(e.target.value)}\n                  className=\"flex-1 rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-ring\"\n                />\n              </div>\n              <p className=\"mt-2 text-xs text-muted-foreground\">\n                Хоосон үлдээвэл шууд нийтлэгдэнэ\n              </p>\n            </div>\n\n            {/* AI Assist */}\n            <div className=\"rounded-xl border border-dashed border-primary/50 bg-primary/5 p-5\">\n              <div className=\"flex items-center gap-2\">\n                <Sparkles className=\"h-5 w-5 text-primary\" />\n                <h3 className=\"text-sm font-semibold text-foreground\">\n                  AI Туслах\n                </h3>\n              </div>\n              <p className=\"mt-2 text-xs text-muted-foreground\">\n                AI ашиглан товч тайлбар, SEO гарчиг автоматаар үүсгэх\n              </p>\n              <button className=\"mt-3 w-full rounded-lg border border-primary/30 bg-primary/10 py-2 text-sm font-medium text-primary transition-colors hover:bg-primary/20\">\n                AI-р үүсгэх\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}