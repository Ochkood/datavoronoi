{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/lib/auth.ts"],"sourcesContent":["export interface AuthUser {\n  id: string\n  name: string\n  email: string\n  role: \"user\" | \"publisher\" | \"admin\"\n  isActive?: boolean\n  bio?: string\n  avatar?: string\n  coverImage?: string\n  phone?: string\n  location?: string\n  website?: string\n  social?: {\n    twitter?: string\n    linkedin?: string\n    facebook?: string\n    instagram?: string\n  }\n}\n\nconst ACCESS_TOKEN_KEY = \"dn_access_token\"\nconst REFRESH_TOKEN_KEY = \"dn_refresh_token\"\nconst USER_KEY = \"dn_user\"\n\nexport function saveAuth(auth: {\n  accessToken: string\n  refreshToken: string\n  user: AuthUser\n}) {\n  if (typeof window === \"undefined\") return\n  localStorage.setItem(ACCESS_TOKEN_KEY, auth.accessToken)\n  localStorage.setItem(REFRESH_TOKEN_KEY, auth.refreshToken)\n  localStorage.setItem(USER_KEY, JSON.stringify(auth.user))\n}\n\nexport function getAccessToken(): string | null {\n  if (typeof window === \"undefined\") return null\n  return localStorage.getItem(ACCESS_TOKEN_KEY)\n}\n\nexport function clearAuth() {\n  if (typeof window === \"undefined\") return\n  localStorage.removeItem(ACCESS_TOKEN_KEY)\n  localStorage.removeItem(REFRESH_TOKEN_KEY)\n  localStorage.removeItem(USER_KEY)\n}\n\nexport function getCurrentUser(): AuthUser | null {\n  if (typeof window === \"undefined\") return null\n  const raw = localStorage.getItem(USER_KEY)\n  if (!raw) return null\n  try {\n    return JSON.parse(raw) as AuthUser\n  } catch {\n    return null\n  }\n}\n\nexport function isAuthenticated(): boolean {\n  return Boolean(getAccessToken())\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAoBA,MAAM,mBAAmB;AACzB,MAAM,oBAAoB;AAC1B,MAAM,WAAW;AAEV,SAAS,SAAS,IAIxB;IACC;;IACA,aAAa,OAAO,CAAC,kBAAkB,KAAK,WAAW;IACvD,aAAa,OAAO,CAAC,mBAAmB,KAAK,YAAY;IACzD,aAAa,OAAO,CAAC,UAAU,KAAK,SAAS,CAAC,KAAK,IAAI;AACzD;AAEO,SAAS;IACd;;IACA,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;IACxB,aAAa,UAAU,CAAC;AAC1B;AAEO,SAAS;IACd;;IACA,MAAM,MAAM,aAAa,OAAO,CAAC;IACjC,IAAI,CAAC,KAAK,OAAO;IACjB,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS;IACd,OAAO,QAAQ;AACjB"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/lib/api.ts"],"sourcesContent":["import type { AuthUser } from \"@/lib/auth\"\nimport { getAccessToken } from \"@/lib/auth\"\nimport type { PostData } from \"@/components/post-card\"\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\"\nconst API_ORIGIN = API_BASE.replace(/\\/api\\/?$/, \"\")\n\ntype ApiResponse<T> = {\n  success: boolean\n  message?: string\n  data: T\n}\n\ntype BackendPost = {\n  _id: string\n  title: string\n  excerpt?: string\n  content?: string\n  featuredImage?: string\n  status?: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n  visibility?: \"public\" | \"private\"\n  createdAt?: string\n  publishedAt?: string\n  viewsCount?: number\n  likesCount?: number\n  commentsCount?: number\n  author?: {\n    _id?: string\n    name?: string\n    avatar?: string\n  }\n  category?: {\n    _id?: string\n    name?: string\n    slug?: string\n  }\n  topics?: Array<{\n    _id: string\n    name: string\n    slug: string\n  }>\n}\n\nexport type BackendCategory = {\n  _id: string\n  name: string\n  slug: string\n  description?: string\n  icon?: string\n  color?: string\n  bannerImage?: string\n}\n\nexport type BackendTopic = {\n  _id: string\n  name: string\n  slug: string\n  description?: string\n  image?: string\n  featured?: boolean\n  startDate?: string\n  endDate?: string\n}\n\nfunction toRelativeDate(dateString?: string): string {\n  if (!dateString) return \"Саяхан\"\n  const d = new Date(dateString)\n  if (Number.isNaN(d.getTime())) return \"Саяхан\"\n  return d.toLocaleDateString(\"mn-MN\")\n}\n\nfunction categoryColorBySlug(slug?: string): string {\n  const map: Record<string, string> = {\n    economy: \"bg-chart-1/15 text-chart-1\",\n    technology: \"bg-chart-2/15 text-chart-2\",\n    world: \"bg-chart-3/15 text-chart-3\",\n    environment: \"bg-chart-4/15 text-chart-4\",\n    finance: \"bg-chart-5/15 text-chart-5\",\n    health: \"bg-destructive/15 text-destructive\",\n  }\n  return map[slug || \"\"] || \"bg-secondary text-secondary-foreground\"\n}\n\nfunction mapPost(post: BackendPost): PostData {\n  return {\n    id: post._id,\n    title: post.title,\n    excerpt: post.excerpt || \"\",\n    contentHtml: post.content || \"\",\n    category: post.category?.name || \"Бусад\",\n    categorySlug: post.category?.slug || \"\",\n    categoryColor: categoryColorBySlug(post.category?.slug),\n    image: post.featuredImage || \"/placeholder.jpg\",\n    author: post.author?.name || \"Unknown\",\n    authorAvatar:\n      post.author?.avatar ||\n      \"https://api.dicebear.com/9.x/notionists/svg?seed=author\",\n    date: toRelativeDate(post.createdAt),\n    views: String(post.viewsCount || 0),\n    likes: post.likesCount || 0,\n    comments: post.commentsCount || 0,\n  }\n}\n\nexport type DashboardPost = {\n  id: string\n  title: string\n  excerpt: string\n  content: string\n  status: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n  visibility: \"public\" | \"private\"\n  category: string\n  categoryId?: string\n  image: string\n  views: string\n  likes: number\n  comments: number\n  createdAt: string\n  publishedAt?: string | null\n  topics: string[]\n}\n\nexport type AdminPost = {\n  id: string\n  title: string\n  excerpt: string\n  status: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n  image: string\n  views: string\n  comments: number\n  category: string\n  categorySlug?: string\n  author: string\n  authorAvatar: string\n  createdAt: string\n}\n\nexport type AdminUser = {\n  id: string\n  name: string\n  email: string\n  avatar?: string\n  role: \"user\" | \"publisher\" | \"admin\"\n  isActive: boolean\n  joinedAt: string\n  lastActive: string\n  posts: number\n}\n\nexport type PostComment = {\n  id: string\n  content: string\n  createdAt: string\n  user: {\n    name: string\n    avatar: string\n  }\n}\n\nexport type UploadFolder =\n  | \"posts\"\n  | \"categories\"\n  | \"topics\"\n  | \"editor\"\n  | \"profiles\"\n\nexport type DashboardSummary = {\n  stats: {\n    posts: { value: number; change: number }\n    views: { value: number; display: string; changePct: number }\n    likes: { value: number; display: string; changePct: number }\n    comments: { value: number; display: string; changePct: number }\n    status: {\n      published: number\n      pending: number\n      draft: number\n      rejected: number\n    }\n  }\n  viewsTrend: Array<{\n    key: string\n    name: string\n    views: number\n    likes: number\n  }>\n  recentPosts: Array<{\n    id: string\n    title: string\n    status: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n    views: number\n    likes: number\n    comments: number\n    date: string\n    image: string\n  }>\n  notifications: {\n    unreadCount: number\n    latest: Array<{\n      _id: string\n      type: \"comment\" | \"like\" | \"approved\" | \"rejected\" | \"system\"\n      title: string\n      message: string\n      read: boolean\n      link: string\n      createdAt: string\n    }>\n  }\n}\n\nexport type DashboardAnalytics = {\n  overview: {\n    views: { value: number; changePct: number }\n    likes: { value: number; changePct: number }\n    comments: { value: number; changePct: number }\n    posts: { value: number; changePct: number }\n  }\n  trends: Array<{\n    key: string\n    name: string\n    views: number\n    likes: number\n  }>\n  weekly: Array<{\n    day: string\n    views: number\n  }>\n  topPosts: Array<{\n    id: string\n    title: string\n    views: number\n    likes: number\n    image: string\n  }>\n  deviceData: Array<{ name: string; value: number }>\n  countryData: Array<{ country: string; views: number; percentage: number }>\n}\n\nexport type BackendNotification = {\n  _id: string\n  type: \"comment\" | \"like\" | \"approved\" | \"rejected\" | \"system\"\n  title: string\n  message: string\n  link: string\n  read: boolean\n  createdAt: string\n  actor?: {\n    name?: string\n    avatar?: string\n  }\n}\n\nexport type UserProfile = {\n  id: string\n  name: string\n  email: string\n  role: \"user\" | \"publisher\" | \"admin\"\n  isActive: boolean\n  bio: string\n  avatar: string\n  coverImage: string\n  phone: string\n  location: string\n  website: string\n  social: {\n    twitter: string\n    linkedin: string\n    facebook: string\n    instagram: string\n  }\n  joinedAt: string\n  lastActive: string\n}\n\ntype BackendComment = {\n  _id: string\n  content: string\n  createdAt: string\n  user?: {\n    name?: string\n    avatar?: string\n  }\n}\n\nfunction mapDashboardPost(post: BackendPost): DashboardPost {\n  return {\n    id: post._id,\n    title: post.title,\n    excerpt: post.excerpt || \"\",\n    content: post.content || \"\",\n    status: post.status || \"draft\",\n    visibility: post.visibility || \"public\",\n    category: post.category?.name || \"Бусад\",\n    categoryId: post.category?._id,\n    image: post.featuredImage || \"/placeholder.jpg\",\n    views: String(post.viewsCount || 0),\n    likes: post.likesCount || 0,\n    comments: post.commentsCount || 0,\n    createdAt: post.createdAt || new Date().toISOString(),\n    publishedAt: post.publishedAt || null,\n    topics: (post.topics || []).map((t) => t._id),\n  }\n}\n\nfunction mapAdminPost(post: BackendPost): AdminPost {\n  return {\n    id: post._id,\n    title: post.title,\n    excerpt: post.excerpt || \"\",\n    status: post.status || \"draft\",\n    image: post.featuredImage || \"/placeholder.jpg\",\n    views: String(post.viewsCount || 0),\n    comments: post.commentsCount || 0,\n    category: post.category?.name || \"Бусад\",\n    categorySlug: post.category?.slug || \"\",\n    author: post.author?.name || \"Unknown\",\n    authorAvatar:\n      post.author?.avatar ||\n      \"https://api.dicebear.com/9.x/notionists/svg?seed=author\",\n    createdAt: post.createdAt || new Date().toISOString(),\n  }\n}\n\nasync function request<T>(path: string, init?: RequestInit): Promise<T> {\n  const token = getAccessToken()\n  const res = await fetch(`${API_BASE}${path}`, {\n    ...init,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\n      ...(init?.headers || {}),\n    },\n    cache: \"no-store\",\n  })\n\n  const json = await res.json().catch(() => null)\n  if (!res.ok) {\n    throw new Error(json?.message || \"Request failed\")\n  }\n  return json\n}\n\nfunction fileToBase64(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.onload = () => {\n      const raw = reader.result\n      if (typeof raw !== \"string\") {\n        reject(new Error(\"Image read failed\"))\n        return\n      }\n      const base64 = raw.includes(\",\") ? raw.split(\",\")[1] : raw\n      resolve(base64)\n    }\n    reader.onerror = () => reject(new Error(\"Image read failed\"))\n    reader.readAsDataURL(file)\n  })\n}\n\nexport async function loginApi(email: string, password: string) {\n  const res = await request<\n    ApiResponse<{\n      user: AuthUser\n      accessToken: string\n      refreshToken: string\n    }>\n  >(\"/auth/login\", {\n    method: \"POST\",\n    body: JSON.stringify({ email, password }),\n  })\n  return res.data\n}\n\nexport async function registerApi(name: string, email: string, password: string) {\n  const res = await request<\n    ApiResponse<{\n      user: AuthUser\n      accessToken: string\n      refreshToken: string\n    }>\n  >(\"/auth/register\", {\n    method: \"POST\",\n    body: JSON.stringify({ name, email, password }),\n  })\n  return res.data\n}\n\nexport async function getMeApi() {\n  const res = await request<ApiResponse<{ user: AuthUser }>>(\"/auth/me\")\n  return res.data.user\n}\n\nexport async function getPosts(params?: {\n  category?: string\n  topic?: string\n  q?: string\n  status?: \"all\" | \"draft\" | \"pending\" | \"published\" | \"rejected\"\n  author?: string\n}) {\n  const search = new URLSearchParams()\n  if (params?.category) search.set(\"category\", params.category)\n  if (params?.topic) search.set(\"topic\", params.topic)\n  if (params?.q) search.set(\"q\", params.q)\n  if (params?.status) search.set(\"status\", params.status)\n  if (params?.author) search.set(\"author\", params.author)\n  const suffix = search.toString() ? `?${search.toString()}` : \"\"\n\n  const res = await request<ApiResponse<{ items: BackendPost[] }>>(`/posts${suffix}`)\n  return res.data.items.map(mapPost)\n}\n\nexport async function getPostById(id: string) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(`/posts/${id}`)\n  return mapPost(res.data.post)\n}\n\nexport async function getDashboardPostById(id: string) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(`/posts/${id}`)\n  return mapDashboardPost(res.data.post)\n}\n\nexport async function getCategories() {\n  const res = await request<ApiResponse<{ categories: BackendCategory[] }>>(\n    \"/categories\"\n  )\n  return res.data.categories\n}\n\nexport async function createCategoryApi(payload: {\n  name: string\n  slug: string\n  description?: string\n  icon?: string\n  color?: string\n  bannerImage?: string\n}) {\n  const res = await request<ApiResponse<{ category: BackendCategory }>>(\n    \"/categories\",\n    {\n      method: \"POST\",\n      body: JSON.stringify(payload),\n    }\n  )\n  return res.data.category\n}\n\nexport async function updateCategoryApi(\n  id: string,\n  payload: Partial<{\n    name: string\n    slug: string\n    description?: string\n    icon?: string\n    color?: string\n    bannerImage?: string\n  }>\n) {\n  const res = await request<ApiResponse<{ category: BackendCategory }>>(\n    `/categories/${id}`,\n    {\n      method: \"PATCH\",\n      body: JSON.stringify(payload),\n    }\n  )\n  return res.data.category\n}\n\nexport async function deleteCategoryApi(id: string) {\n  await request<ApiResponse<{ message: string }>>(`/categories/${id}`, {\n    method: \"DELETE\",\n  })\n}\n\nexport async function getTopics() {\n  const res = await request<ApiResponse<{ topics: BackendTopic[] }>>(\"/topics\")\n  return res.data.topics\n}\n\nexport async function createTopicApi(payload: {\n  name: string\n  slug: string\n  description?: string\n  image?: string\n  featured?: boolean\n  startDate?: string\n  endDate?: string\n}) {\n  const res = await request<ApiResponse<{ topic: BackendTopic }>>(\"/topics\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  })\n  return res.data.topic\n}\n\nexport async function updateTopicApi(\n  id: string,\n  payload: Partial<{\n    name: string\n    slug: string\n    description?: string\n    image?: string\n    featured?: boolean\n    startDate?: string\n    endDate?: string\n  }>\n) {\n  const res = await request<ApiResponse<{ topic: BackendTopic }>>(`/topics/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(payload),\n  })\n  return res.data.topic\n}\n\nexport async function deleteTopicApi(id: string) {\n  await request<ApiResponse<{ message: string }>>(`/topics/${id}`, {\n    method: \"DELETE\",\n  })\n}\n\nexport async function getBookmarks() {\n  const res = await request<ApiResponse<{ items: BackendPost[] }>>(\n    \"/posts/bookmarks/me\"\n  )\n  return res.data.items.map(mapPost)\n}\n\nexport async function toggleBookmarkApi(postId: string) {\n  const res = await request<ApiResponse<{ bookmarked: boolean }>>(\n    `/posts/${postId}/bookmark`,\n    {\n      method: \"POST\",\n    }\n  )\n  return res.data\n}\n\nexport async function toggleLikeApi(postId: string) {\n  const res = await request<ApiResponse<{ liked: boolean; likesCount: number }>>(\n    `/posts/${postId}/like`,\n    {\n      method: \"POST\",\n    }\n  )\n  return res.data\n}\n\nexport async function getMyEngagement(postId: string) {\n  const res = await request<ApiResponse<{ liked: boolean; bookmarked: boolean }>>(\n    `/posts/${postId}/engagement`\n  )\n  return res.data\n}\n\nexport async function getCommentsApi(postId: string) {\n  const res = await request<ApiResponse<{ comments: BackendComment[] }>>(\n    `/posts/${postId}/comments`\n  )\n  return res.data.comments.map((c) => ({\n    id: c._id,\n    content: c.content,\n    createdAt: c.createdAt,\n    user: {\n      name: c.user?.name || \"Хэрэглэгч\",\n      avatar:\n        c.user?.avatar ||\n        \"https://api.dicebear.com/9.x/notionists/svg?seed=user\",\n    },\n  }))\n}\n\nexport async function addCommentApi(postId: string, content: string) {\n  const res = await request<ApiResponse<{ comment: BackendComment }>>(\n    `/posts/${postId}/comments`,\n    {\n      method: \"POST\",\n      body: JSON.stringify({ content }),\n    }\n  )\n  const c = res.data.comment\n  const mapped: PostComment = {\n    id: c._id,\n    content: c.content,\n    createdAt: c.createdAt,\n    user: {\n      name: c.user?.name || \"Хэрэглэгч\",\n      avatar:\n        c.user?.avatar ||\n        \"https://api.dicebear.com/9.x/notionists/svg?seed=user\",\n    },\n  }\n  return mapped\n}\n\nexport async function getMyPosts(authorId: string) {\n  const search = new URLSearchParams()\n  search.set(\"author\", authorId)\n  search.set(\"status\", \"all\")\n  const res = await request<ApiResponse<{ items: BackendPost[] }>>(\n    `/posts?${search.toString()}`\n  )\n  return res.data.items.map(mapDashboardPost)\n}\n\nexport async function getAdminPosts() {\n  const res = await request<ApiResponse<{ items: BackendPost[] }>>(\n    \"/posts?status=all\"\n  )\n  return res.data.items.map(mapAdminPost)\n}\n\nexport async function uploadImageApi(file: File, folder: UploadFolder) {\n  const dataBase64 = await fileToBase64(file)\n  const res = await request<ApiResponse<{ url: string }>>(\"/uploads/image\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      fileName: file.name,\n      mimeType: file.type,\n      dataBase64,\n      folder,\n    }),\n  })\n\n  const url = res.data.url || \"\"\n  if (!url) throw new Error(\"Upload failed\")\n  if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) return url\n  return `${API_ORIGIN}${url.startsWith(\"/\") ? \"\" : \"/\"}${url}`\n}\n\nexport async function getDashboardSummaryApi(\n  range: \"7d\" | \"30d\" | \"90d\" | \"1y\" = \"7d\"\n) {\n  const res = await request<ApiResponse<DashboardSummary>>(\n    `/dashboard/summary?range=${range}`\n  )\n  return res.data\n}\n\nexport async function getDashboardAnalyticsApi(\n  range: \"7d\" | \"30d\" | \"90d\" | \"1y\" = \"7d\"\n) {\n  const res = await request<ApiResponse<DashboardAnalytics>>(\n    `/dashboard/analytics?range=${range}`\n  )\n  return res.data\n}\n\nexport async function getNotificationsApi(\n  filter: \"all\" | \"unread\" | \"comment\" | \"like\" | \"approved\" | \"rejected\" | \"system\" = \"all\"\n) {\n  const res = await request<\n    ApiResponse<{ items: BackendNotification[]; unreadCount: number }>\n  >(`/notifications?filter=${filter}`)\n  return res.data\n}\n\nexport async function markNotificationReadApi(id: string) {\n  await request<ApiResponse<{ notification: BackendNotification }>>(\n    `/notifications/${id}/read`,\n    {\n      method: \"PATCH\",\n    }\n  )\n}\n\nexport async function markAllNotificationsReadApi() {\n  await request<ApiResponse<{ message: string }>>(\"/notifications/read-all\", {\n    method: \"PATCH\",\n  })\n}\n\nexport async function deleteNotificationApi(id: string) {\n  await request<ApiResponse<{ message: string }>>(`/notifications/${id}`, {\n    method: \"DELETE\",\n  })\n}\n\nexport async function deleteReadNotificationsApi() {\n  await request<ApiResponse<{ message: string }>>(\"/notifications/read\", {\n    method: \"DELETE\",\n  })\n}\n\nexport async function getMyProfileApi() {\n  const res = await request<\n    ApiResponse<{\n      profile: UserProfile\n      stats: { posts: number; views: number; likes: number }\n    }>\n  >(\"/users/profile/me\")\n  return res.data\n}\n\nexport async function updateMyProfileApi(\n  payload: Partial<{\n    name: string\n    email: string\n    bio: string\n    avatar: string\n    coverImage: string\n    phone: string\n    location: string\n    website: string\n    social: {\n      twitter: string\n      linkedin: string\n      facebook: string\n      instagram: string\n    }\n  }>\n) {\n  const res = await request<ApiResponse<{ profile: UserProfile }>>(\n    \"/users/profile/me\",\n    {\n      method: \"PATCH\",\n      body: JSON.stringify(payload),\n    }\n  )\n  return res.data.profile\n}\n\nexport async function changeMyPasswordApi(\n  currentPassword: string,\n  newPassword: string\n) {\n  await request<ApiResponse<{ message: string }>>(\"/users/profile/password\", {\n    method: \"PATCH\",\n    body: JSON.stringify({ currentPassword, newPassword }),\n  })\n}\n\nexport async function getAdminUsers() {\n  const res = await request<ApiResponse<{ items: AdminUser[] }>>(\"/users\")\n  return res.data.items\n}\n\nexport async function updateUserApi(\n  id: string,\n  payload: Partial<{\n    role: \"user\" | \"publisher\" | \"admin\"\n    isActive: boolean\n  }>\n) {\n  const res = await request<ApiResponse<{ user: AdminUser }>>(`/users/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(payload),\n  })\n  return res.data.user\n}\n\nexport async function createPostApi(payload: {\n  title: string\n  excerpt: string\n  content: string\n  featuredImage?: string\n  category?: string\n  topics?: string[]\n  visibility?: \"public\" | \"private\"\n  status?: \"draft\" | \"pending\" | \"published\"\n  publishedAt?: string\n}) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(\"/posts\", {\n    method: \"POST\",\n    body: JSON.stringify(payload),\n  })\n  return mapDashboardPost(res.data.post)\n}\n\nexport async function updatePostApi(\n  id: string,\n  payload: Partial<{\n    title: string\n    excerpt: string\n    content: string\n    featuredImage?: string\n    category?: string\n    topics?: string[]\n    visibility?: \"public\" | \"private\"\n    status?: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n    publishedAt?: string\n  }>\n) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(`/posts/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(payload),\n  })\n  return mapDashboardPost(res.data.post)\n}\n\nexport async function updatePostStatusApi(\n  id: string,\n  status: \"draft\" | \"pending\" | \"published\" | \"rejected\"\n) {\n  const res = await request<ApiResponse<{ post: BackendPost }>>(`/posts/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify({ status }),\n  })\n  return mapAdminPost(res.data.post)\n}\n\nexport async function deletePostApi(id: string) {\n  await request<ApiResponse<{ message: string }>>(`/posts/${id}`, {\n    method: \"DELETE\",\n  })\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIiB;AAHjB;;AAGA,MAAM,WAAW,iEAAmC;AACpD,MAAM,aAAa,SAAS,OAAO,CAAC,aAAa;AA2DjD,SAAS,eAAe,UAAmB;IACzC,IAAI,CAAC,YAAY,OAAO;IACxB,MAAM,IAAI,IAAI,KAAK;IACnB,IAAI,OAAO,KAAK,CAAC,EAAE,OAAO,KAAK,OAAO;IACtC,OAAO,EAAE,kBAAkB,CAAC;AAC9B;AAEA,SAAS,oBAAoB,IAAa;IACxC,MAAM,MAA8B;QAClC,SAAS;QACT,YAAY;QACZ,OAAO;QACP,aAAa;QACb,SAAS;QACT,QAAQ;IACV;IACA,OAAO,GAAG,CAAC,QAAQ,GAAG,IAAI;AAC5B;AAEA,SAAS,QAAQ,IAAiB;IAChC,OAAO;QACL,IAAI,KAAK,GAAG;QACZ,OAAO,KAAK,KAAK;QACjB,SAAS,KAAK,OAAO,IAAI;QACzB,aAAa,KAAK,OAAO,IAAI;QAC7B,UAAU,KAAK,QAAQ,EAAE,QAAQ;QACjC,cAAc,KAAK,QAAQ,EAAE,QAAQ;QACrC,eAAe,oBAAoB,KAAK,QAAQ,EAAE;QAClD,OAAO,KAAK,aAAa,IAAI;QAC7B,QAAQ,KAAK,MAAM,EAAE,QAAQ;QAC7B,cACE,KAAK,MAAM,EAAE,UACb;QACF,MAAM,eAAe,KAAK,SAAS;QACnC,OAAO,OAAO,KAAK,UAAU,IAAI;QACjC,OAAO,KAAK,UAAU,IAAI;QAC1B,UAAU,KAAK,aAAa,IAAI;IAClC;AACF;AAqLA,SAAS,iBAAiB,IAAiB;IACzC,OAAO;QACL,IAAI,KAAK,GAAG;QACZ,OAAO,KAAK,KAAK;QACjB,SAAS,KAAK,OAAO,IAAI;QACzB,SAAS,KAAK,OAAO,IAAI;QACzB,QAAQ,KAAK,MAAM,IAAI;QACvB,YAAY,KAAK,UAAU,IAAI;QAC/B,UAAU,KAAK,QAAQ,EAAE,QAAQ;QACjC,YAAY,KAAK,QAAQ,EAAE;QAC3B,OAAO,KAAK,aAAa,IAAI;QAC7B,OAAO,OAAO,KAAK,UAAU,IAAI;QACjC,OAAO,KAAK,UAAU,IAAI;QAC1B,UAAU,KAAK,aAAa,IAAI;QAChC,WAAW,KAAK,SAAS,IAAI,IAAI,OAAO,WAAW;QACnD,aAAa,KAAK,WAAW,IAAI;QACjC,QAAQ,CAAC,KAAK,MAAM,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,IAAM,EAAE,GAAG;IAC9C;AACF;AAEA,SAAS,aAAa,IAAiB;IACrC,OAAO;QACL,IAAI,KAAK,GAAG;QACZ,OAAO,KAAK,KAAK;QACjB,SAAS,KAAK,OAAO,IAAI;QACzB,QAAQ,KAAK,MAAM,IAAI;QACvB,OAAO,KAAK,aAAa,IAAI;QAC7B,OAAO,OAAO,KAAK,UAAU,IAAI;QACjC,UAAU,KAAK,aAAa,IAAI;QAChC,UAAU,KAAK,QAAQ,EAAE,QAAQ;QACjC,cAAc,KAAK,QAAQ,EAAE,QAAQ;QACrC,QAAQ,KAAK,MAAM,EAAE,QAAQ;QAC7B,cACE,KAAK,MAAM,EAAE,UACb;QACF,WAAW,KAAK,SAAS,IAAI,IAAI,OAAO,WAAW;IACrD;AACF;AAEA,eAAe,QAAW,IAAY,EAAE,IAAkB;IACxD,MAAM,QAAQ,IAAA,gIAAc;IAC5B,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QAC5C,GAAG,IAAI;QACP,SAAS;YACP,gBAAgB;YAChB,GAAI,QAAQ;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC,IAAI,CAAC,CAAC;YACrD,GAAI,MAAM,WAAW,CAAC,CAAC;QACzB;QACA,OAAO;IACT;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;IAC1C,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MAAM,MAAM,WAAW;IACnC;IACA,OAAO;AACT;AAEA,SAAS,aAAa,IAAU;IAC9B,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG;YACd,MAAM,MAAM,OAAO,MAAM;YACzB,IAAI,OAAO,QAAQ,UAAU;gBAC3B,OAAO,IAAI,MAAM;gBACjB;YACF;YACA,MAAM,SAAS,IAAI,QAAQ,CAAC,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG;YACvD,QAAQ;QACV;QACA,OAAO,OAAO,GAAG,IAAM,OAAO,IAAI,MAAM;QACxC,OAAO,aAAa,CAAC;IACvB;AACF;AAEO,eAAe,SAAS,KAAa,EAAE,QAAgB;IAC5D,MAAM,MAAM,MAAM,QAMhB,eAAe;QACf,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;QAAS;IACzC;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,YAAY,IAAY,EAAE,KAAa,EAAE,QAAgB;IAC7E,MAAM,MAAM,MAAM,QAMhB,kBAAkB;QAClB,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;YAAM;YAAO;QAAS;IAC/C;IACA,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,QAAyC;IAC3D,OAAO,IAAI,IAAI,CAAC,IAAI;AACtB;AAEO,eAAe,SAAS,MAM9B;IACC,MAAM,SAAS,IAAI;IACnB,IAAI,QAAQ,UAAU,OAAO,GAAG,CAAC,YAAY,OAAO,QAAQ;IAC5D,IAAI,QAAQ,OAAO,OAAO,GAAG,CAAC,SAAS,OAAO,KAAK;IACnD,IAAI,QAAQ,GAAG,OAAO,GAAG,CAAC,KAAK,OAAO,CAAC;IACvC,IAAI,QAAQ,QAAQ,OAAO,GAAG,CAAC,UAAU,OAAO,MAAM;IACtD,IAAI,QAAQ,QAAQ,OAAO,GAAG,CAAC,UAAU,OAAO,MAAM;IACtD,MAAM,SAAS,OAAO,QAAQ,KAAK,CAAC,CAAC,EAAE,OAAO,QAAQ,IAAI,GAAG;IAE7D,MAAM,MAAM,MAAM,QAA+C,CAAC,MAAM,EAAE,QAAQ;IAClF,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AAC5B;AAEO,eAAe,YAAY,EAAU;IAC1C,MAAM,MAAM,MAAM,QAA4C,CAAC,OAAO,EAAE,IAAI;IAC5E,OAAO,QAAQ,IAAI,IAAI,CAAC,IAAI;AAC9B;AAEO,eAAe,qBAAqB,EAAU;IACnD,MAAM,MAAM,MAAM,QAA4C,CAAC,OAAO,EAAE,IAAI;IAC5E,OAAO,iBAAiB,IAAI,IAAI,CAAC,IAAI;AACvC;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,QAChB;IAEF,OAAO,IAAI,IAAI,CAAC,UAAU;AAC5B;AAEO,eAAe,kBAAkB,OAOvC;IACC,MAAM,MAAM,MAAM,QAChB,eACA;QACE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;IAEF,OAAO,IAAI,IAAI,CAAC,QAAQ;AAC1B;AAEO,eAAe,kBACpB,EAAU,EACV,OAOE;IAEF,MAAM,MAAM,MAAM,QAChB,CAAC,YAAY,EAAE,IAAI,EACnB;QACE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;IAEF,OAAO,IAAI,IAAI,CAAC,QAAQ;AAC1B;AAEO,eAAe,kBAAkB,EAAU;IAChD,MAAM,QAA0C,CAAC,YAAY,EAAE,IAAI,EAAE;QACnE,QAAQ;IACV;AACF;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,QAAiD;IACnE,OAAO,IAAI,IAAI,CAAC,MAAM;AACxB;AAEO,eAAe,eAAe,OAQpC;IACC,MAAM,MAAM,MAAM,QAA8C,WAAW;QACzE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,IAAI,IAAI,CAAC,KAAK;AACvB;AAEO,eAAe,eACpB,EAAU,EACV,OAQE;IAEF,MAAM,MAAM,MAAM,QAA8C,CAAC,QAAQ,EAAE,IAAI,EAAE;QAC/E,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,IAAI,IAAI,CAAC,KAAK;AACvB;AAEO,eAAe,eAAe,EAAU;IAC7C,MAAM,QAA0C,CAAC,QAAQ,EAAE,IAAI,EAAE;QAC/D,QAAQ;IACV;AACF;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,QAChB;IAEF,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AAC5B;AAEO,eAAe,kBAAkB,MAAc;IACpD,MAAM,MAAM,MAAM,QAChB,CAAC,OAAO,EAAE,OAAO,SAAS,CAAC,EAC3B;QACE,QAAQ;IACV;IAEF,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,cAAc,MAAc;IAChD,MAAM,MAAM,MAAM,QAChB,CAAC,OAAO,EAAE,OAAO,KAAK,CAAC,EACvB;QACE,QAAQ;IACV;IAEF,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,gBAAgB,MAAc;IAClD,MAAM,MAAM,MAAM,QAChB,CAAC,OAAO,EAAE,OAAO,WAAW,CAAC;IAE/B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,eAAe,MAAc;IACjD,MAAM,MAAM,MAAM,QAChB,CAAC,OAAO,EAAE,OAAO,SAAS,CAAC;IAE7B,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC;YACnC,IAAI,EAAE,GAAG;YACT,SAAS,EAAE,OAAO;YAClB,WAAW,EAAE,SAAS;YACtB,MAAM;gBACJ,MAAM,EAAE,IAAI,EAAE,QAAQ;gBACtB,QACE,EAAE,IAAI,EAAE,UACR;YACJ;QACF,CAAC;AACH;AAEO,eAAe,cAAc,MAAc,EAAE,OAAe;IACjE,MAAM,MAAM,MAAM,QAChB,CAAC,OAAO,EAAE,OAAO,SAAS,CAAC,EAC3B;QACE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;QAAQ;IACjC;IAEF,MAAM,IAAI,IAAI,IAAI,CAAC,OAAO;IAC1B,MAAM,SAAsB;QAC1B,IAAI,EAAE,GAAG;QACT,SAAS,EAAE,OAAO;QAClB,WAAW,EAAE,SAAS;QACtB,MAAM;YACJ,MAAM,EAAE,IAAI,EAAE,QAAQ;YACtB,QACE,EAAE,IAAI,EAAE,UACR;QACJ;IACF;IACA,OAAO;AACT;AAEO,eAAe,WAAW,QAAgB;IAC/C,MAAM,SAAS,IAAI;IACnB,OAAO,GAAG,CAAC,UAAU;IACrB,OAAO,GAAG,CAAC,UAAU;IACrB,MAAM,MAAM,MAAM,QAChB,CAAC,OAAO,EAAE,OAAO,QAAQ,IAAI;IAE/B,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AAC5B;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,QAChB;IAEF,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;AAC5B;AAEO,eAAe,eAAe,IAAU,EAAE,MAAoB;IACnE,MAAM,aAAa,MAAM,aAAa;IACtC,MAAM,MAAM,MAAM,QAAsC,kBAAkB;QACxE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YACnB,UAAU,KAAK,IAAI;YACnB,UAAU,KAAK,IAAI;YACnB;YACA;QACF;IACF;IAEA,MAAM,MAAM,IAAI,IAAI,CAAC,GAAG,IAAI;IAC5B,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,IAAI,IAAI,UAAU,CAAC,cAAc,IAAI,UAAU,CAAC,aAAa,OAAO;IACpE,OAAO,GAAG,aAAa,IAAI,UAAU,CAAC,OAAO,KAAK,MAAM,KAAK;AAC/D;AAEO,eAAe,uBACpB,QAAqC,IAAI;IAEzC,MAAM,MAAM,MAAM,QAChB,CAAC,yBAAyB,EAAE,OAAO;IAErC,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,yBACpB,QAAqC,IAAI;IAEzC,MAAM,MAAM,MAAM,QAChB,CAAC,2BAA2B,EAAE,OAAO;IAEvC,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,oBACpB,SAAqF,KAAK;IAE1F,MAAM,MAAM,MAAM,QAEhB,CAAC,sBAAsB,EAAE,QAAQ;IACnC,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,wBAAwB,EAAU;IACtD,MAAM,QACJ,CAAC,eAAe,EAAE,GAAG,KAAK,CAAC,EAC3B;QACE,QAAQ;IACV;AAEJ;AAEO,eAAe;IACpB,MAAM,QAA0C,2BAA2B;QACzE,QAAQ;IACV;AACF;AAEO,eAAe,sBAAsB,EAAU;IACpD,MAAM,QAA0C,CAAC,eAAe,EAAE,IAAI,EAAE;QACtE,QAAQ;IACV;AACF;AAEO,eAAe;IACpB,MAAM,QAA0C,uBAAuB;QACrE,QAAQ;IACV;AACF;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,QAKhB;IACF,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,mBACpB,OAeE;IAEF,MAAM,MAAM,MAAM,QAChB,qBACA;QACE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;IAEF,OAAO,IAAI,IAAI,CAAC,OAAO;AACzB;AAEO,eAAe,oBACpB,eAAuB,EACvB,WAAmB;IAEnB,MAAM,QAA0C,2BAA2B;QACzE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;YAAiB;QAAY;IACtD;AACF;AAEO,eAAe;IACpB,MAAM,MAAM,MAAM,QAA6C;IAC/D,OAAO,IAAI,IAAI,CAAC,KAAK;AACvB;AAEO,eAAe,cACpB,EAAU,EACV,OAGE;IAEF,MAAM,MAAM,MAAM,QAA0C,CAAC,OAAO,EAAE,IAAI,EAAE;QAC1E,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,IAAI,IAAI,CAAC,IAAI;AACtB;AAEO,eAAe,cAAc,OAUnC;IACC,MAAM,MAAM,MAAM,QAA4C,UAAU;QACtE,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,iBAAiB,IAAI,IAAI,CAAC,IAAI;AACvC;AAEO,eAAe,cACpB,EAAU,EACV,OAUE;IAEF,MAAM,MAAM,MAAM,QAA4C,CAAC,OAAO,EAAE,IAAI,EAAE;QAC5E,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,OAAO,iBAAiB,IAAI,IAAI,CAAC,IAAI;AACvC;AAEO,eAAe,oBACpB,EAAU,EACV,MAAsD;IAEtD,MAAM,MAAM,MAAM,QAA4C,CAAC,OAAO,EAAE,IAAI,EAAE;QAC5E,QAAQ;QACR,MAAM,KAAK,SAAS,CAAC;YAAE;QAAO;IAChC;IACA,OAAO,aAAa,IAAI,IAAI,CAAC,IAAI;AACnC;AAEO,eAAe,cAAc,EAAU;IAC5C,MAAM,QAA0C,CAAC,OAAO,EAAE,IAAI,EAAE;QAC9D,QAAQ;IACV;AACF"}},
    {"offset": {"line": 533, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/components/dashboard/dashboard-sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname, useRouter } from \"next/navigation\"\nimport {\n  LayoutDashboard,\n  FileText,\n  PenSquare,\n  BarChart3,\n  Bell,\n  User,\n  Settings,\n  ChevronLeft,\n  ChevronRight,\n  LogOut,\n  Eye,\n  Clock,\n  CheckCircle,\n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { clearAuth, getCurrentUser } from \"@/lib/auth\"\nimport { getDashboardSummaryApi, getMyProfileApi } from \"@/lib/api\"\n\nconst mainNavItems = [\n  { label: \"Dashboard\", icon: LayoutDashboard, href: \"/dashboard\" },\n  { label: \"Миний нийтлэлүүд\", icon: FileText, href: \"/dashboard/posts\" },\n  { label: \"Шинэ нийтлэл\", icon: PenSquare, href: \"/dashboard/posts/new\" },\n  { label: \"Статистик\", icon: BarChart3, href: \"/dashboard/analytics\" },\n]\n\nconst secondaryNavItems = [\n  { label: \"Мэдэгдэл\", icon: Bell, href: \"/dashboard/notifications\" },\n  { label: \"Профайл\", icon: User, href: \"/dashboard/profile\" },\n  { label: \"Тохиргоо\", icon: Settings, href: \"/dashboard/settings\" },\n]\n\nexport function DashboardSidebar() {\n  const pathname = usePathname()\n  const router = useRouter()\n  const [collapsed, setCollapsed] = useState(false)\n  const [unreadCount, setUnreadCount] = useState(0)\n  const [statusStats, setStatusStats] = useState({\n    published: 0,\n    pending: 0,\n    draft: 0,\n  })\n  const [profile, setProfile] = useState({\n    name: \"Хэрэглэгч\",\n    avatar: \"https://api.dicebear.com/9.x/notionists/svg?seed=user\",\n    role: \"Хэрэглэгч\",\n  })\n\n  useEffect(() => {\n    const local = getCurrentUser()\n    if (local) {\n      setProfile({\n        name: local.name || \"Хэрэглэгч\",\n        avatar:\n          local.avatar || \"https://api.dicebear.com/9.x/notionists/svg?seed=user\",\n        role:\n          local.role === \"admin\"\n            ? \"Админ\"\n            : local.role === \"publisher\"\n              ? \"Нийтлэгч\"\n              : \"Хэрэглэгч\",\n      })\n    }\n\n    Promise.all([getMyProfileApi(), getDashboardSummaryApi(\"7d\")])\n      .then(([me, summary]) => {\n        setProfile({\n          name: me.profile.name || \"Хэрэглэгч\",\n          avatar:\n            me.profile.avatar ||\n            \"https://api.dicebear.com/9.x/notionists/svg?seed=user\",\n          role:\n            me.profile.role === \"admin\"\n              ? \"Админ\"\n              : me.profile.role === \"publisher\"\n                ? \"Нийтлэгч\"\n                : \"Хэрэглэгч\",\n        })\n        setStatusStats({\n          published: summary.stats.status.published || 0,\n          pending: summary.stats.status.pending || 0,\n          draft: summary.stats.status.draft || 0,\n        })\n        setUnreadCount(summary.notifications.unreadCount || 0)\n      })\n      .catch(() => {\n        // Keep local fallback state if API call fails.\n      })\n  }, [pathname])\n\n  const quickStats = useMemo(\n    () => [\n      {\n        label: \"Нийтлэгдсэн\",\n        value: statusStats.published,\n        icon: CheckCircle,\n        color: \"text-chart-4\",\n      },\n      {\n        label: \"Хүлээгдэж буй\",\n        value: statusStats.pending,\n        icon: Clock,\n        color: \"text-chart-5\",\n      },\n      {\n        label: \"Ноорог\",\n        value: statusStats.draft,\n        icon: FileText,\n        color: \"text-muted-foreground\",\n      },\n    ],\n    [statusStats]\n  )\n\n  return (\n    <aside\n      className={cn(\n        \"fixed left-0 top-0 z-40 flex h-screen flex-col border-r border-border bg-card transition-all duration-300\",\n        collapsed ? \"w-[70px]\" : \"w-[260px]\"\n      )}\n    >\n      {/* Header */}\n      <div className=\"flex h-16 items-center justify-between border-b border-border px-4\">\n        {!collapsed && (\n          <Link href=\"/dashboard\" className=\"flex items-center gap-2\">\n            <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-primary\">\n              <PenSquare className=\"h-4 w-4 text-primary-foreground\" />\n            </div>\n            <span className=\"text-base font-bold text-foreground\">\n              Publisher\n            </span>\n          </Link>\n        )}\n        {collapsed && (\n          <div className=\"mx-auto flex h-8 w-8 items-center justify-center rounded-lg bg-primary\">\n            <PenSquare className=\"h-4 w-4 text-primary-foreground\" />\n          </div>\n        )}\n        <button\n          onClick={() => setCollapsed(!collapsed)}\n          className={cn(\n            \"flex h-7 w-7 items-center justify-center rounded-md text-muted-foreground hover:bg-secondary hover:text-foreground\",\n            collapsed && \"mx-auto mt-2\"\n          )}\n        >\n          {collapsed ? (\n            <ChevronRight className=\"h-4 w-4\" />\n          ) : (\n            <ChevronLeft className=\"h-4 w-4\" />\n          )}\n        </button>\n      </div>\n\n      {/* Quick Stats */}\n      {!collapsed && (\n        <div className=\"border-b border-border p-4\">\n          <p className=\"mb-3 text-xs font-medium uppercase tracking-wider text-muted-foreground\">\n            Товч мэдээлэл\n          </p>\n          <div className=\"grid grid-cols-3 gap-2\">\n            {quickStats.map((stat) => (\n              <div\n                key={stat.label}\n                className=\"flex flex-col items-center rounded-lg bg-secondary/50 px-2 py-2\"\n              >\n                <stat.icon className={cn(\"h-4 w-4\", stat.color)} />\n                <span className=\"mt-1 text-lg font-bold text-foreground\">\n                  {stat.value}\n                </span>\n                <span className=\"text-[10px] text-muted-foreground\">\n                  {stat.label}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Main Navigation */}\n      <nav className=\"flex-1 overflow-y-auto p-3\">\n        <div className=\"space-y-1\">\n          {mainNavItems.map((item) => {\n            const isActive =\n              pathname === item.href ||\n              (item.href !== \"/dashboard\" && pathname.startsWith(item.href))\n            return (\n              <Link\n                key={item.label}\n                href={item.href}\n                className={cn(\n                  \"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors\",\n                  isActive\n                    ? \"bg-primary text-primary-foreground\"\n                    : \"text-muted-foreground hover:bg-secondary hover:text-foreground\",\n                  collapsed && \"justify-center px-2\"\n                )}\n                title={collapsed ? item.label : undefined}\n              >\n                <item.icon className=\"h-[18px] w-[18px] flex-shrink-0\" />\n                {!collapsed && item.label}\n              </Link>\n            )\n          })}\n        </div>\n\n        {/* Divider */}\n        <div className=\"my-4 h-px bg-border\" />\n\n        {/* Secondary Navigation */}\n        <div className=\"space-y-1\">\n          {secondaryNavItems.map((item) => {\n            const isActive =\n              pathname === item.href || pathname.startsWith(item.href)\n            return (\n              <Link\n                key={item.label}\n                href={item.href}\n                className={cn(\n                  \"relative flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors\",\n                  isActive\n                    ? \"bg-primary text-primary-foreground\"\n                    : \"text-muted-foreground hover:bg-secondary hover:text-foreground\",\n                  collapsed && \"justify-center px-2\"\n                )}\n                title={collapsed ? item.label : undefined}\n              >\n                <item.icon className=\"h-[18px] w-[18px] flex-shrink-0\" />\n                {!collapsed && item.label}\n                {item.href === \"/dashboard/notifications\" && unreadCount > 0 && (\n                  <span\n                    className={cn(\n                      \"flex h-5 min-w-5 items-center justify-center rounded-full bg-destructive px-1.5 text-[10px] font-bold text-destructive-foreground\",\n                      collapsed\n                        ? \"absolute -right-1 -top-1\"\n                        : \"ml-auto\"\n                    )}\n                  >\n                    {unreadCount}\n                  </span>\n                )}\n              </Link>\n            )\n          })}\n        </div>\n      </nav>\n\n      {/* Back to Site */}\n      {!collapsed && (\n        <div className=\"border-t border-border p-3\">\n          <Link\n            href=\"/\"\n            className=\"flex items-center justify-center gap-2 rounded-lg bg-secondary px-4 py-2.5 text-sm font-medium text-foreground transition-colors hover:bg-secondary/80\"\n          >\n            <Eye className=\"h-4 w-4\" />\n            Сайт руу буцах\n          </Link>\n        </div>\n      )}\n\n      {/* User Profile */}\n      <div className=\"border-t border-border p-3\">\n        <div\n          className={cn(\n            \"flex items-center gap-3 rounded-lg p-2\",\n            collapsed && \"justify-center\"\n          )}\n        >\n          <img\n            src={profile.avatar}\n            alt={profile.name}\n            className=\"h-9 w-9 flex-shrink-0 rounded-full bg-muted\"\n          />\n          {!collapsed && (\n            <div className=\"flex-1 overflow-hidden\">\n              <p className=\"truncate text-sm font-medium text-foreground\">\n                {profile.name}\n              </p>\n              <p className=\"truncate text-xs text-muted-foreground\">\n                {profile.role}\n              </p>\n            </div>\n          )}\n          {!collapsed && (\n            <button\n              onClick={() => {\n                clearAuth()\n                router.push(\"/login\")\n              }}\n              className=\"flex h-8 w-8 items-center justify-center rounded-md text-muted-foreground hover:bg-secondary hover:text-foreground\"\n              title=\"Гарах\"\n            >\n              <LogOut className=\"h-4 w-4\" />\n            </button>\n          )}\n        </div>\n      </div>\n    </aside>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1016, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/components/auth/route-guard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { usePathname, useRouter } from \"next/navigation\"\nimport { getCurrentUser, isAuthenticated, type AuthUser } from \"@/lib/auth\"\n\ninterface RouteGuardProps {\n  children: React.ReactNode\n  roles?: Array<AuthUser[\"role\"]>\n}\n\nexport function RouteGuard({ children, roles }: RouteGuardProps) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [allowed, setAllowed] = useState(false)\n\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      router.replace(`/login?next=${encodeURIComponent(pathname || \"/\")}`)\n      return\n    }\n\n    const user = getCurrentUser()\n    if (!user) {\n      router.replace(\"/login\")\n      return\n    }\n\n    if (roles && !roles.includes(user.role)) {\n      router.replace(\"/\")\n      return\n    }\n\n    setAllowed(true)\n  }, [pathname, roles, router])\n\n  if (!allowed) return null\n  return <>{children}</>\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAWO,SAAS,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAmB;;IAC7D,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;gCAAC;YACR,IAAI,CAAC,IAAA,iIAAe,KAAI;gBACtB,OAAO,OAAO,CAAC,CAAC,YAAY,EAAE,mBAAmB,YAAY,MAAM;gBACnE;YACF;YAEA,MAAM,OAAO,IAAA,gIAAc;YAC3B,IAAI,CAAC,MAAM;gBACT,OAAO,OAAO,CAAC;gBACf;YACF;YAEA,IAAI,SAAS,CAAC,MAAM,QAAQ,CAAC,KAAK,IAAI,GAAG;gBACvC,OAAO,OAAO,CAAC;gBACf;YACF;YAEA,WAAW;QACb;+BAAG;QAAC;QAAU;QAAO;KAAO;IAE5B,IAAI,CAAC,SAAS,OAAO;IACrB,qBAAO;kBAAG;;AACZ;GA3BgB;;QACC,kJAAS;QACP,oJAAW;;;KAFd"}},
    {"offset": {"line": 1078, "column": 0}, "map": {"version":3,"sources":["file:///Users/ochirdari/Desktop/datanewsapp/datavoronoi/app/dashboard/layout.tsx"],"sourcesContent":["\"use client\"\n\nimport { DashboardSidebar } from \"@/components/dashboard/dashboard-sidebar\"\nimport { RouteGuard } from \"@/components/auth/route-guard\"\n\nexport default function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <RouteGuard roles={[\"publisher\", \"admin\"]}>\n      <div className=\"min-h-screen bg-background\">\n        <DashboardSidebar />\n        <main className=\"ml-[260px] min-h-screen transition-all duration-300\">\n          {children}\n        </main>\n      </div>\n    </RouteGuard>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,gBAAgB,EACtC,QAAQ,EAGT;IACC,qBACE,6LAAC,sJAAU;QAAC,OAAO;YAAC;YAAa;SAAQ;kBACvC,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,uKAAgB;;;;;8BACjB,6LAAC;oBAAK,WAAU;8BACb;;;;;;;;;;;;;;;;;AAKX;KAfwB"}}]
}